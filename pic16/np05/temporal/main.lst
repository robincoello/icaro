gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;--------------------------------------------------------
                      00002 ; File Created by SDCC : free open source ANSI-C Compiler
                      00003 ; Version 3.3.0 #8604 (Jul 16 2014) (Linux)
                      00004 ; This file was generated Sun Mar 15 12:05:35 2015
                      00005 ;--------------------------------------------------------
                      00006 ; PIC16 port for the Microchip 16-bit core micros
                      00007 ;--------------------------------------------------------
                      00008         list    p=18f4550
                      00009         radix   dec
                      00010 
                      00011 
                      00012 ;--------------------------------------------------------
                      00013 ; public variables in this module
                      00014 ;--------------------------------------------------------
  0000                00015         global  _loopvar
  0000                00016         global  _phase
  0000                00017         global  _needreordering
  0000                00018         global  _timingindex
  0000                00019         global  _timedivision
  0000                00020         global  _timings
  0000                00021         global  _activatedservos
  0000                00022         global  _servovalues
  0000                00023         global  __pr2_plus1
  0000                00024         global  __t2con
  0000                00025         global  _digitalwrite
  0000                00026         global  _digitalread
  0000                00027         global  _pinmode
  0000                00028         global  _servos_init
  0000                00029         global  _ServoAttach
  0000                00030         global  _ServoDetach
  0000                00031         global  _ServoWrite
  0000                00032         global  _ServoRead
  0000                00033         global  _ServoMinimumPulse
  0000                00034         global  _ServoMaximumPulse
  0000                00035         global  _servos_interrupt
  0000                00036         global  _analog_init
  0000                00037         global  _analogReference
  0000                00038         global  _analogread
  0000                00039         global  _Delayms
  0000                00040         global  _Delayus
  0000                00041         global  _PWM_set_frequency
  0000                00042         global  _PWM_set_dutycycle
  0000                00043         global  _PWM_set_percent_dutycycle
  0000                00044         global  _init_PWM11
  0000                00045         global  _init_PWM12
  0000                00046         global  _set_PWM
  0000                00047         global  _epap_in
  0000                00048         global  _epap_out
  0000                00049         global  _epapin_init
  0000                00050         global  _epapout_init
  0000                00051         global  _setup
  0000                00052         global  _sensordigital
  0000                00053         global  _loop
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000                00054         global  _pinguino_main
  0000                00055         global  _high_priority_isr
  0000                00056         global  _low_priority_isr
  0000                00057         global  _mask
  0000                00058         global  _port
  0000                00059         global  _servomasks
                      00060 
                      00061 ;--------------------------------------------------------
                      00062 ; extern variables in this module
                      00063 ;--------------------------------------------------------
  0000                00064         extern  _SPPDATAbits
  0000                00065         extern  _SPPCFGbits
  0000                00066         extern  _SPPEPSbits
  0000                00067         extern  _SPPCONbits
  0000                00068         extern  _UFRMLbits
  0000                00069         extern  _UFRMHbits
  0000                00070         extern  _UIRbits
  0000                00071         extern  _UIEbits
  0000                00072         extern  _UEIRbits
  0000                00073         extern  _UEIEbits
  0000                00074         extern  _USTATbits
  0000                00075         extern  _UCONbits
  0000                00076         extern  _UADDRbits
  0000                00077         extern  _UCFGbits
  0000                00078         extern  _UEP0bits
  0000                00079         extern  _UEP1bits
  0000                00080         extern  _UEP2bits
  0000                00081         extern  _UEP3bits
  0000                00082         extern  _UEP4bits
  0000                00083         extern  _UEP5bits
  0000                00084         extern  _UEP6bits
  0000                00085         extern  _UEP7bits
  0000                00086         extern  _UEP8bits
  0000                00087         extern  _UEP9bits
  0000                00088         extern  _UEP10bits
  0000                00089         extern  _UEP11bits
  0000                00090         extern  _UEP12bits
  0000                00091         extern  _UEP13bits
  0000                00092         extern  _UEP14bits
  0000                00093         extern  _UEP15bits
  0000                00094         extern  _PORTAbits
  0000                00095         extern  _PORTBbits
  0000                00096         extern  _PORTCbits
  0000                00097         extern  _PORTDbits
  0000                00098         extern  _PORTEbits
  0000                00099         extern  _LATAbits
  0000                00100         extern  _LATBbits
  0000                00101         extern  _LATCbits
  0000                00102         extern  _LATDbits
  0000                00103         extern  _LATEbits
  0000                00104         extern  _TRISAbits
  0000                00105         extern  _TRISBbits
  0000                00106         extern  _TRISCbits
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000                00107         extern  _TRISDbits
  0000                00108         extern  _TRISEbits
  0000                00109         extern  _OSCTUNEbits
  0000                00110         extern  _PIE1bits
  0000                00111         extern  _PIR1bits
  0000                00112         extern  _IPR1bits
  0000                00113         extern  _PIE2bits
  0000                00114         extern  _PIR2bits
  0000                00115         extern  _IPR2bits
  0000                00116         extern  _EECON1bits
  0000                00117         extern  _RCSTAbits
  0000                00118         extern  _TXSTAbits
  0000                00119         extern  _T3CONbits
  0000                00120         extern  _CMCONbits
  0000                00121         extern  _CVRCONbits
  0000                00122         extern  _ECCP1ASbits
  0000                00123         extern  _ECCP1DELbits
  0000                00124         extern  _BAUDCONbits
  0000                00125         extern  _CCP2CONbits
  0000                00126         extern  _CCP1CONbits
  0000                00127         extern  _ADCON2bits
  0000                00128         extern  _ADCON1bits
  0000                00129         extern  _ADCON0bits
  0000                00130         extern  _SSPCON2bits
  0000                00131         extern  _SSPCON1bits
  0000                00132         extern  _SSPSTATbits
  0000                00133         extern  _T2CONbits
  0000                00134         extern  _T1CONbits
  0000                00135         extern  _RCONbits
  0000                00136         extern  _WDTCONbits
  0000                00137         extern  _HLVDCONbits
  0000                00138         extern  _OSCCONbits
  0000                00139         extern  _T0CONbits
  0000                00140         extern  _STATUSbits
  0000                00141         extern  _FSR2Hbits
  0000                00142         extern  _BSRbits
  0000                00143         extern  _FSR1Hbits
  0000                00144         extern  _FSR0Hbits
  0000                00145         extern  _INTCON3bits
  0000                00146         extern  _INTCON2bits
  0000                00147         extern  _INTCONbits
  0000                00148         extern  _TBLPTRUbits
  0000                00149         extern  _PCLATHbits
  0000                00150         extern  _PCLATUbits
  0000                00151         extern  _STKPTRbits
  0000                00152         extern  _TOSUbits
  0000                00153         extern  _usb_device_state
  0000                00154         extern  _usb_active_cfg
  0000                00155         extern  _usb_active_alt_setting
  0000                00156         extern  _SPPDATA
  0000                00157         extern  _SPPCFG
  0000                00158         extern  _SPPEPS
  0000                00159         extern  _SPPCON
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000                00160         extern  _UFRML
  0000                00161         extern  _UFRMH
  0000                00162         extern  _UIR
  0000                00163         extern  _UIE
  0000                00164         extern  _UEIR
  0000                00165         extern  _UEIE
  0000                00166         extern  _USTAT
  0000                00167         extern  _UCON
  0000                00168         extern  _UADDR
  0000                00169         extern  _UCFG
  0000                00170         extern  _UEP0
  0000                00171         extern  _UEP1
  0000                00172         extern  _UEP2
  0000                00173         extern  _UEP3
  0000                00174         extern  _UEP4
  0000                00175         extern  _UEP5
  0000                00176         extern  _UEP6
  0000                00177         extern  _UEP7
  0000                00178         extern  _UEP8
  0000                00179         extern  _UEP9
  0000                00180         extern  _UEP10
  0000                00181         extern  _UEP11
  0000                00182         extern  _UEP12
  0000                00183         extern  _UEP13
  0000                00184         extern  _UEP14
  0000                00185         extern  _UEP15
  0000                00186         extern  _PORTA
  0000                00187         extern  _PORTB
  0000                00188         extern  _PORTC
  0000                00189         extern  _PORTD
  0000                00190         extern  _PORTE
  0000                00191         extern  _LATA
  0000                00192         extern  _LATB
  0000                00193         extern  _LATC
  0000                00194         extern  _LATD
  0000                00195         extern  _LATE
  0000                00196         extern  _TRISA
  0000                00197         extern  _TRISB
  0000                00198         extern  _TRISC
  0000                00199         extern  _TRISD
  0000                00200         extern  _TRISE
  0000                00201         extern  _OSCTUNE
  0000                00202         extern  _PIE1
  0000                00203         extern  _PIR1
  0000                00204         extern  _IPR1
  0000                00205         extern  _PIE2
  0000                00206         extern  _PIR2
  0000                00207         extern  _IPR2
  0000                00208         extern  _EECON1
  0000                00209         extern  _EECON2
  0000                00210         extern  _EEDATA
  0000                00211         extern  _EEADR
  0000                00212         extern  _RCSTA
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000                00213         extern  _TXSTA
  0000                00214         extern  _TXREG
  0000                00215         extern  _RCREG
  0000                00216         extern  _SPBRG
  0000                00217         extern  _SPBRGH
  0000                00218         extern  _T3CON
  0000                00219         extern  _TMR3L
  0000                00220         extern  _TMR3H
  0000                00221         extern  _CMCON
  0000                00222         extern  _CVRCON
  0000                00223         extern  _ECCP1AS
  0000                00224         extern  _ECCP1DEL
  0000                00225         extern  _BAUDCON
  0000                00226         extern  _CCP2CON
  0000                00227         extern  _CCPR2L
  0000                00228         extern  _CCPR2H
  0000                00229         extern  _CCP1CON
  0000                00230         extern  _CCPR1L
  0000                00231         extern  _CCPR1H
  0000                00232         extern  _ADCON2
  0000                00233         extern  _ADCON1
  0000                00234         extern  _ADCON0
  0000                00235         extern  _ADRESL
  0000                00236         extern  _ADRESH
  0000                00237         extern  _SSPCON2
  0000                00238         extern  _SSPCON1
  0000                00239         extern  _SSPSTAT
  0000                00240         extern  _SSPADD
  0000                00241         extern  _SSPBUF
  0000                00242         extern  _T2CON
  0000                00243         extern  _PR2
  0000                00244         extern  _TMR2
  0000                00245         extern  _T1CON
  0000                00246         extern  _TMR1L
  0000                00247         extern  _TMR1H
  0000                00248         extern  _RCON
  0000                00249         extern  _WDTCON
  0000                00250         extern  _HLVDCON
  0000                00251         extern  _OSCCON
  0000                00252         extern  _T0CON
  0000                00253         extern  _TMR0L
  0000                00254         extern  _TMR0H
  0000                00255         extern  _STATUS
  0000                00256         extern  _FSR2L
  0000                00257         extern  _FSR2H
  0000                00258         extern  _PLUSW2
  0000                00259         extern  _PREINC2
  0000                00260         extern  _POSTDEC2
  0000                00261         extern  _POSTINC2
  0000                00262         extern  _INDF2
  0000                00263         extern  _BSR
  0000                00264         extern  _FSR1L
  0000                00265         extern  _FSR1H
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000                00266         extern  _PLUSW1
  0000                00267         extern  _PREINC1
  0000                00268         extern  _POSTDEC1
  0000                00269         extern  _POSTINC1
  0000                00270         extern  _INDF1
  0000                00271         extern  _WREG
  0000                00272         extern  _FSR0L
  0000                00273         extern  _FSR0H
  0000                00274         extern  _PLUSW0
  0000                00275         extern  _PREINC0
  0000                00276         extern  _POSTDEC0
  0000                00277         extern  _POSTINC0
  0000                00278         extern  _INDF0
  0000                00279         extern  _INTCON3
  0000                00280         extern  _INTCON2
  0000                00281         extern  _INTCON
  0000                00282         extern  _PRODL
  0000                00283         extern  _PRODH
  0000                00284         extern  _TABLAT
  0000                00285         extern  _TBLPTRL
  0000                00286         extern  _TBLPTRH
  0000                00287         extern  _TBLPTRU
  0000                00288         extern  _PCL
  0000                00289         extern  _PCLATH
  0000                00290         extern  _PCLATU
  0000                00291         extern  _STKPTR
  0000                00292         extern  _TOSL
  0000                00293         extern  _TOSH
  0000                00294         extern  _TOSU
  0000                00295         extern  _delay10ktcy
  0000                00296         extern  __divulong
  0000                00297         extern  __mulint
  0000                00298         extern  __divuint
                      00299 
                      00300 ;--------------------------------------------------------
                      00301 ;       Equates to used internal registers
                      00302 ;--------------------------------------------------------
  00000FD8            00303 STATUS  equ     0xfd8
  00000FF9            00304 PCL     equ     0xff9
  00000FFA            00305 PCLATH  equ     0xffa
  00000FFB            00306 PCLATU  equ     0xffb
  00000FE8            00307 WREG    equ     0xfe8
  00000FE0            00308 BSR     equ     0xfe0
  00000FF6            00309 TBLPTRL equ     0xff6
  00000FF7            00310 TBLPTRH equ     0xff7
  00000FF8            00311 TBLPTRU equ     0xff8
  00000FF5            00312 TABLAT  equ     0xff5
  00000FE9            00313 FSR0L   equ     0xfe9
  00000FEA            00314 FSR0H   equ     0xfea
  00000FE1            00315 FSR1L   equ     0xfe1
  00000FD9            00316 FSR2L   equ     0xfd9
  00000FEF            00317 INDF0   equ     0xfef
  00000FE6            00318 POSTINC1        equ     0xfe6
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000FE5            00319 POSTDEC1        equ     0xfe5
  00000FE4            00320 PREINC1 equ     0xfe4
  00000FDB            00321 PLUSW2  equ     0xfdb
  00000FF3            00322 PRODL   equ     0xff3
  00000FF4            00323 PRODH   equ     0xff4
                      00324 
                      00325 
                      00326         idata
000000 00             00327 _phase  db      0x00
000001 00             00328 _needreordering db      0x00
000002 00             00329 _timedivision   db      0x00
000003 00 00 00       00330 _activatedservos        db      0x00, 0x00, 0x00
000006 00 01          00331 __pr2_plus1     db      0x00, 0x01
                      00332 
                      00333 
                      00334 ; Internal registers
                      00335 .registers      udata_ovr       0x0000
000000                00336 r0x00   res     1
000001                00337 r0x01   res     1
000002                00338 r0x02   res     1
000003                00339 r0x03   res     1
000004                00340 r0x04   res     1
000005                00341 r0x05   res     1
000006                00342 r0x06   res     1
000007                00343 r0x07   res     1
000008                00344 r0x08   res     1
000009                00345 r0x09   res     1
00000A                00346 r0x0a   res     1
00000B                00347 r0x0b   res     1
00000C                00348 r0x0c   res     1
                      00349 
                      00350 udata_main_0    udata
000000                00351 _loopvar        res     1
                      00352 
                      00353 udata_main_1    udata
000000                00354 _servovalues    res     18
                      00355 
                      00356 udata_main_2    udata
000000                00357 _timingindex    res     1
                      00358 
                      00359 udata_main_3    udata
000000                00360 _timings        res     72
                      00361 
                      00362 udata_main_4    udata
000000                00363 _SortServoTimings_mascaratotal_1_27     res     3
                      00364 
                      00365 udata_main_5    udata
000000                00366 __t2con res     1
                      00367 
                      00368 ;--------------------------------------------------------
                      00369 ; global & static initialisations
                      00370 ;--------------------------------------------------------
                      00371 ; ; Starting pCode block
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00372 S_main__high_priority_isr       code    0X002020
002020                00373 _high_priority_isr:
                      00374 ;       .line   98; /home/valentin/.icaro/firmware/source/main.c        void high_priority_isr(void) __i
                            nterrupt
002020 CFD8 FFE5      00375         MOVFF   STATUS, POSTDEC1
002024 CFE0 FFE5      00376         MOVFF   BSR, POSTDEC1
002028 6EE5           00377         MOVWF   POSTDEC1
00202A CFF3 FFE5      00378         MOVFF   PRODL, POSTDEC1
00202E CFF4 FFE5      00379         MOVFF   PRODH, POSTDEC1
002032 CFE9 FFE5      00380         MOVFF   FSR0L, POSTDEC1
002036 CFEA FFE5      00381         MOVFF   FSR0H, POSTDEC1
00203A CFFA FFE5      00382         MOVFF   PCLATH, POSTDEC1
00203E CFFB FFE5      00383         MOVFF   PCLATU, POSTDEC1
                      00384 ;       .line   134; /home/valentin/.icaro/firmware/source/main.c       servos_interrupt();
002042 EC00 F000      00385         CALL    _servos_interrupt
002046 CFE4 FFFB      00386         MOVFF   PREINC1, PCLATU
00204A CFE4 FFFA      00387         MOVFF   PREINC1, PCLATH
00204E CFE4 FFEA      00388         MOVFF   PREINC1, FSR0H
002052 CFE4 FFE9      00389         MOVFF   PREINC1, FSR0L
002056 CFE4 FFF4      00390         MOVFF   PREINC1, PRODH
00205A CFE4 FFF3      00391         MOVFF   PREINC1, PRODL
00205E 50E4           00392         MOVF    PREINC1, W
002060 CFE4 FFE0      00393         MOVFF   PREINC1, BSR
002064 CFE4 FFD8      00394         MOVFF   PREINC1, STATUS
002068 0010           00395         RETFIE  
                      00396 
                      00397 ; ; Starting pCode block
                      00398 S_main__low_priority_isr        code    0X004000
004000                00399 _low_priority_isr:
                      00400 ;       .line   142; /home/valentin/.icaro/firmware/source/main.c       void low_priority_isr(void) __in
                            terrupt
004000 CFD8 FFE5      00401         MOVFF   STATUS, POSTDEC1
004004 CFE0 FFE5      00402         MOVFF   BSR, POSTDEC1
004008 6EE5           00403         MOVWF   POSTDEC1
00400A CFF3 FFE5      00404         MOVFF   PRODL, POSTDEC1
00400E CFF4 FFE5      00405         MOVFF   PRODH, POSTDEC1
004012 CFE9 FFE5      00406         MOVFF   FSR0L, POSTDEC1
004016 CFEA FFE5      00407         MOVFF   FSR0H, POSTDEC1
00401A CFFA FFE5      00408         MOVFF   PCLATH, POSTDEC1
00401E CFFB FFE5      00409         MOVFF   PCLATU, POSTDEC1
                      00410 ;       .line   144; /home/valentin/.icaro/firmware/source/main.c       }
004022 CFE4 FFFB      00411         MOVFF   PREINC1, PCLATU
004026 CFE4 FFFA      00412         MOVFF   PREINC1, PCLATH
00402A CFE4 FFEA      00413         MOVFF   PREINC1, FSR0H
00402E CFE4 FFE9      00414         MOVFF   PREINC1, FSR0L
004032 CFE4 FFF4      00415         MOVFF   PREINC1, PRODH
004036 CFE4 FFF3      00416         MOVFF   PREINC1, PRODL
00403A 50E4           00417         MOVF    PREINC1, W
00403C CFE4 FFE0      00418         MOVFF   PREINC1, BSR
004040 CFE4 FFD8      00419         MOVFF   PREINC1, STATUS
004044 0010           00420         RETFIE  
                      00421 
                      00422 ; I code from now on!
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00423 ; ; Starting pCode block
                      00424 S_main__pinguino_main   code
000000                00425 _pinguino_main:
                      00426 ;       .line   54; /home/valentin/.icaro/firmware/source/main.c        PIE1=0;
000000 6A??           00427         CLRF    _PIE1
                      00428 ;       .line   55; /home/valentin/.icaro/firmware/source/main.c        PIE2=0;
000002 6A??           00429         CLRF    _PIE2
                      00430 ;       .line   56; /home/valentin/.icaro/firmware/source/main.c        ADCON1=0x0F;
000004 0E0F           00431         MOVLW   0x0f
000006 6E??           00432         MOVWF   _ADCON1
                      00433 ;       .line   61; /home/valentin/.icaro/firmware/source/main.c        setup();
000008 EC?? F0??      00434         CALL    _setup
                      00435 ;       .line   63; /home/valentin/.icaro/firmware/source/main.c        analog_init();
00000C EC?? F0??      00436         CALL    _analog_init
                      00437 ;       .line   69; /home/valentin/.icaro/firmware/source/main.c        servos_init();
000010 EC?? F0??      00438         CALL    _servos_init
                      00439 ;       .line   85; /home/valentin/.icaro/firmware/source/main.c        INTCONbits.PEIE=1;
000014 8C??           00440         BSF     _INTCONbits, 6
                      00441 ;       .line   86; /home/valentin/.icaro/firmware/source/main.c        INTCONbits.GIE=1;
000016 8E??           00442         BSF     _INTCONbits, 7
000018                00443 _00774_DS_:
                      00444 ;       .line   91; /home/valentin/.icaro/firmware/source/main.c        loop();
000018 EC?? F0??      00445         CALL    _loop
00001C D???           00446         BRA     _00774_DS_
00001E 0012           00447         RETURN  
                      00448 
                      00449 ; ; Starting pCode block
                      00450 S_main__loop    code
000000                00451 _loop:
                      00452 ;       .line   60; /home/valentin/.icaro/firmware/source/user.c        }
000000 0012           00453         RETURN  
                      00454 
                      00455 ; ; Starting pCode block
                      00456 S_main__sensordigital   code
000000                00457 _sensordigital:
                      00458 ;       .line   40; /home/valentin/.icaro/firmware/source/user.c        int sensordigital(int valor)
000000 CFD9 FFE5      00459         MOVFF   FSR2L, POSTDEC1
000004 CFE1 FFD9      00460         MOVFF   FSR1L, FSR2L
000008 C??? F???      00461         MOVFF   r0x00, POSTDEC1
00000C C??? F???      00462         MOVFF   r0x01, POSTDEC1
000010 0E02           00463         MOVLW   0x02
000012 CFDB F000      00464         MOVFF   PLUSW2, r0x00
000016 0E03           00465         MOVLW   0x03
000018 CFDB F000      00466         MOVFF   PLUSW2, r0x01
                      00467 ;       .line   44; /home/valentin/.icaro/firmware/source/user.c        temp=digitalread(valor);
00001C 50??           00468         MOVF    r0x01, W
00001E 6EE5           00469         MOVWF   POSTDEC1
000020 50??           00470         MOVF    r0x00, W
000022 6EE5           00471         MOVWF   POSTDEC1
000024 EC?? F0??      00472         CALL    _digitalread
000028 CFF3 F000      00473         MOVFF   PRODL, r0x01
00002C 52E6           00474         MOVF    POSTINC1, F
00002E 52E6           00475         MOVF    POSTINC1, F
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00476 ;       .line   45; /home/valentin/.icaro/firmware/source/user.c        if (temp==0)
000030 10??           00477         IORWF   r0x01, W
000032 E1??           00478         BNZ     _00761_DS_
                      00479 ;       .line   47; /home/valentin/.icaro/firmware/source/user.c        return 1;
000034 6AF3           00480         CLRF    PRODL
000036 0E01           00481         MOVLW   0x01
000038 D???           00482         BRA     _00763_DS_
00003A                00483 _00761_DS_:
                      00484 ;       .line   51; /home/valentin/.icaro/firmware/source/user.c        return 0;
00003A 6AF3           00485         CLRF    PRODL
00003C 6AE8           00486         CLRF    WREG
00003E                00487 _00763_DS_:
00003E CFE4 F000      00488         MOVFF   PREINC1, r0x01
000042 CFE4 F000      00489         MOVFF   PREINC1, r0x00
000046 CFE4 FFD9      00490         MOVFF   PREINC1, FSR2L
00004A 0012           00491         RETURN  
                      00492 
                      00493 ; ; Starting pCode block
                      00494 S_main__setup   code
000000                00495 _setup:
                      00496 ;       .line   24; /home/valentin/.icaro/firmware/source/user.c        TRISB=0;
000000 6A??           00497         CLRF    _TRISB
                      00498 ;       .line   25; /home/valentin/.icaro/firmware/source/user.c        pinmode(ICR_DIG1,INPUT);
000002 6AE5           00499         CLRF    POSTDEC1
000004 0E01           00500         MOVLW   0x01
000006 6EE5           00501         MOVWF   POSTDEC1
000008 6AE5           00502         CLRF    POSTDEC1
00000A 0E15           00503         MOVLW   0x15
00000C 6EE5           00504         MOVWF   POSTDEC1
00000E EC?? F0??      00505         CALL    _pinmode
000012 0E04           00506         MOVLW   0x04
000014 26E1           00507         ADDWF   FSR1L, F
                      00508 ;       .line   26; /home/valentin/.icaro/firmware/source/user.c        pinmode(ICR_DIG2,INPUT);
000016 6AE5           00509         CLRF    POSTDEC1
000018 0E01           00510         MOVLW   0x01
00001A 6EE5           00511         MOVWF   POSTDEC1
00001C 6AE5           00512         CLRF    POSTDEC1
00001E 0E16           00513         MOVLW   0x16
000020 6EE5           00514         MOVWF   POSTDEC1
000022 EC?? F0??      00515         CALL    _pinmode
000026 0E04           00516         MOVLW   0x04
000028 26E1           00517         ADDWF   FSR1L, F
                      00518 ;       .line   27; /home/valentin/.icaro/firmware/source/user.c        pinmode(ICR_DIG3,TRIG);
00002A 6AE5           00519         CLRF    POSTDEC1
00002C 6AE5           00520         CLRF    POSTDEC1
00002E 6AE5           00521         CLRF    POSTDEC1
000030 0E17           00522         MOVLW   0x17
000032 6EE5           00523         MOVWF   POSTDEC1
000034 EC?? F0??      00524         CALL    _pinmode
000038 0E04           00525         MOVLW   0x04
00003A 26E1           00526         ADDWF   FSR1L, F
                      00527 ;       .line   28; /home/valentin/.icaro/firmware/source/user.c        pinmode(ICR_DIG4,ECHO);
00003C 6AE5           00528         CLRF    POSTDEC1
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00003E 6AE5           00529         CLRF    POSTDEC1
000040 6AE5           00530         CLRF    POSTDEC1
000042 0E18           00531         MOVLW   0x18
000044 6EE5           00532         MOVWF   POSTDEC1
000046 EC?? F0??      00533         CALL    _pinmode
00004A 0E04           00534         MOVLW   0x04
00004C 26E1           00535         ADDWF   FSR1L, F
                      00536 ;       .line   29; /home/valentin/.icaro/firmware/source/user.c        pinmode(ICR_l293_P1,OUTPUT);
00004E 6AE5           00537         CLRF    POSTDEC1
000050 6AE5           00538         CLRF    POSTDEC1
000052 6AE5           00539         CLRF    POSTDEC1
000054 0E19           00540         MOVLW   0x19
000056 6EE5           00541         MOVWF   POSTDEC1
000058 EC?? F0??      00542         CALL    _pinmode
00005C 0E04           00543         MOVLW   0x04
00005E 26E1           00544         ADDWF   FSR1L, F
                      00545 ;       .line   30; /home/valentin/.icaro/firmware/source/user.c        pinmode(ICR_l293_P2,OUTPUT);
000060 6AE5           00546         CLRF    POSTDEC1
000062 6AE5           00547         CLRF    POSTDEC1
000064 6AE5           00548         CLRF    POSTDEC1
000066 0E1A           00549         MOVLW   0x1a
000068 6EE5           00550         MOVWF   POSTDEC1
00006A EC?? F0??      00551         CALL    _pinmode
00006E 0E04           00552         MOVLW   0x04
000070 26E1           00553         ADDWF   FSR1L, F
                      00554 ;       .line   31; /home/valentin/.icaro/firmware/source/user.c        pinmode(ICR_l293_P3,OUTPUT);
000072 6AE5           00555         CLRF    POSTDEC1
000074 6AE5           00556         CLRF    POSTDEC1
000076 6AE5           00557         CLRF    POSTDEC1
000078 0E1B           00558         MOVLW   0x1b
00007A 6EE5           00559         MOVWF   POSTDEC1
00007C EC?? F0??      00560         CALL    _pinmode
000080 0E04           00561         MOVLW   0x04
000082 26E1           00562         ADDWF   FSR1L, F
                      00563 ;       .line   32; /home/valentin/.icaro/firmware/source/user.c        pinmode(ICR_l293_P4,OUTPUT);
000084 6AE5           00564         CLRF    POSTDEC1
000086 6AE5           00565         CLRF    POSTDEC1
000088 6AE5           00566         CLRF    POSTDEC1
00008A 0E1C           00567         MOVLW   0x1c
00008C 6EE5           00568         MOVWF   POSTDEC1
00008E EC?? F0??      00569         CALL    _pinmode
000092 0E04           00570         MOVLW   0x04
000094 26E1           00571         ADDWF   FSR1L, F
                      00572 ;       .line   33; /home/valentin/.icaro/firmware/source/user.c        ServoAttach(ICR_SRV1);
000096 0E0A           00573         MOVLW   0x0a
000098 6EE5           00574         MOVWF   POSTDEC1
00009A EC?? F0??      00575         CALL    _ServoAttach
00009E 52E6           00576         MOVF    POSTINC1, F
                      00577 ;       .line   34; /home/valentin/.icaro/firmware/source/user.c        ServoAttach(ICR_SRV2);
0000A0 0E0B           00578         MOVLW   0x0b
0000A2 6EE5           00579         MOVWF   POSTDEC1
0000A4 EC?? F0??      00580         CALL    _ServoAttach
0000A8 52E6           00581         MOVF    POSTINC1, F
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00582 ;       .line   35; /home/valentin/.icaro/firmware/source/user.c        ServoAttach(ICR_SRV3);
0000AA 0E0C           00583         MOVLW   0x0c
0000AC 6EE5           00584         MOVWF   POSTDEC1
0000AE EC?? F0??      00585         CALL    _ServoAttach
0000B2 52E6           00586         MOVF    POSTINC1, F
                      00587 ;       .line   36; /home/valentin/.icaro/firmware/source/user.c        ServoAttach(ICR_SRV4);
0000B4 0E08           00588         MOVLW   0x08
0000B6 6EE5           00589         MOVWF   POSTDEC1
0000B8 EC?? F0??      00590         CALL    _ServoAttach
0000BC 52E6           00591         MOVF    POSTINC1, F
                      00592 ;       .line   37; /home/valentin/.icaro/firmware/source/user.c        ServoAttach(ICR_SRV5);
0000BE 0E09           00593         MOVLW   0x09
0000C0 6EE5           00594         MOVWF   POSTDEC1
0000C2 EC?? F0??      00595         CALL    _ServoAttach
0000C6 52E6           00596         MOVF    POSTINC1, F
0000C8 0012           00597         RETURN  
                      00598 
                      00599 ; ; Starting pCode block
                      00600 S_main__epapout_init    code
000000                00601 _epapout_init:
                      00602 ;       .line   42; /home/valentin/.icaro/firmware/source/main.c        void epapout_init() { return; }
000000 0012           00603         RETURN  
                      00604 
                      00605 ; ; Starting pCode block
                      00606 S_main__epapin_init     code
000000                00607 _epapin_init:
                      00608 ;       .line   41; /home/valentin/.icaro/firmware/source/main.c        void epapin_init() { return; }
000000 0012           00609         RETURN  
                      00610 
                      00611 ; ; Starting pCode block
                      00612 S_main__epap_out        code
000000                00613 _epap_out:
                      00614 ;       .line   40; /home/valentin/.icaro/firmware/source/main.c        void epap_out() { return; }
000000 0012           00615         RETURN  
                      00616 
                      00617 ; ; Starting pCode block
                      00618 S_main__epap_in code
000000                00619 _epap_in:
                      00620 ;       .line   39; /home/valentin/.icaro/firmware/source/main.c        void epap_in() { return; }
000000 0012           00621         RETURN  
                      00622 
                      00623 ; ; Starting pCode block
                      00624 S_main__set_PWM code
000000                00625 _set_PWM:
                      00626 ;       .line   188; /home/valentin/.icaro/firmware/tmp/pwm.c   void set_PWM(int input, int value)
000000 CFD9 FFE5      00627         MOVFF   FSR2L, POSTDEC1
000004 CFE1 FFD9      00628         MOVFF   FSR1L, FSR2L
000008 C??? F???      00629         MOVFF   r0x00, POSTDEC1
00000C C??? F???      00630         MOVFF   r0x01, POSTDEC1
000010 C??? F???      00631         MOVFF   r0x02, POSTDEC1
000014 C??? F???      00632         MOVFF   r0x03, POSTDEC1
000018 C??? F???      00633         MOVFF   r0x04, POSTDEC1
00001C C??? F???      00634         MOVFF   r0x05, POSTDEC1
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000020 0E02           00635         MOVLW   0x02
000022 CFDB F000      00636         MOVFF   PLUSW2, r0x00
000026 0E03           00637         MOVLW   0x03
000028 CFDB F000      00638         MOVFF   PLUSW2, r0x01
00002C 0E04           00639         MOVLW   0x04
00002E CFDB F000      00640         MOVFF   PLUSW2, r0x02
000032 0E05           00641         MOVLW   0x05
000034 CFDB F000      00642         MOVFF   PLUSW2, r0x03
                      00643 ;       .line   192; /home/valentin/.icaro/firmware/tmp/pwm.c   if (input==11)
000038 50??           00644         MOVF    r0x00, W
00003A 0A0B           00645         XORLW   0x0b
00003C E1??           00646         BNZ     _00722_DS_
00003E 50??           00647         MOVF    r0x01, W
000040 E0??           00648         BZ      _00723_DS_
000042                00649 _00722_DS_:
000042 D???           00650         BRA     _00703_DS_
000044                00651 _00723_DS_:
                      00652 ;       .line   195; /home/valentin/.icaro/firmware/tmp/pwm.c   if ((CCP2CON & 0x0F)==0) init_PWM11();
000044 50??           00653         MOVF    _CCP2CON, W
                      00654 ; #     ANDLW   0x0f
                      00655 ; #     BTFSS   STATUS, 2
                      00656 ; #     GOTO    _00701_DS_
                      00657 ; #     CALL    _init_PWM11
                      00658 ; #     MOVLW   0x03
                      00659 ;       .line   196; /home/valentin/.icaro/firmware/tmp/pwm.c   octet=value & 3;        // extract bit 0
                             and 1
000046 0B0F           00660         ANDLW   0x0f
000048 B4D8           00661         BTFSC   STATUS, 2
00004A EC?? F0??      00662         CALL    _init_PWM11
00004E 0E03           00663         MOVLW   0x03
000050 14??           00664         ANDWF   r0x02, W
000052 6E??           00665         MOVWF   r0x04
000054 6A??           00666         CLRF    r0x05
                      00667 ;       .line   197; /home/valentin/.icaro/firmware/tmp/pwm.c   octet<<=4;                      // rotat
                            e left 4 bits
000056 38??           00668         SWAPF   r0x04, W
000058 0BF0           00669         ANDLW   0xf0
00005A 6E??           00670         MOVWF   r0x04
                      00671 ;       .line   198; /home/valentin/.icaro/firmware/tmp/pwm.c   CCP2CON&=0x0F;          // reset bit 4:5
00005C 0E0F           00672         MOVLW   0x0f
00005E 16??           00673         ANDWF   _CCP2CON, F
                      00674 ;       .line   199; /home/valentin/.icaro/firmware/tmp/pwm.c   CCP2CON|=octet;         // put in CCP2CO
                            N 4:5
000060 50??           00675         MOVF    r0x04, W
000062 12??           00676         IORWF   _CCP2CON, F
                      00677 ;       .line   200; /home/valentin/.icaro/firmware/tmp/pwm.c   value>>=2;                      // 8 MSB
                             bits of value
000064 34??           00678         RLCF    r0x03, W
000066 32??           00679         RRCF    r0x03, F
000068 32??           00680         RRCF    r0x02, F
00006A 34??           00681         RLCF    r0x03, W
00006C 32??           00682         RRCF    r0x03, F
00006E 32??           00683         RRCF    r0x02, F
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00684 ;       .line   201; /home/valentin/.icaro/firmware/tmp/pwm.c   octet=value;            // in octet
000070 50??           00685         MOVF    r0x02, W
                      00686 ; =DF= MOVFF: SRC op r0x04 replaced by WREG
                      00687 ;       .line   202; /home/valentin/.icaro/firmware/tmp/pwm.c   CCPR2L=octet;           // put in CCPR2L
000072 6E??           00688         MOVWF   _CCPR2L
000074                00689 _00703_DS_:
                      00690 ;       .line   204; /home/valentin/.icaro/firmware/tmp/pwm.c   if (input==12)
000074 50??           00691         MOVF    r0x00, W
000076 0A0C           00692         XORLW   0x0c
000078 E1??           00693         BNZ     _00728_DS_
00007A 50??           00694         MOVF    r0x01, W
00007C E0??           00695         BZ      _00729_DS_
00007E                00696 _00728_DS_:
00007E D???           00697         BRA     _00708_DS_
000080                00698 _00729_DS_:
                      00699 ;       .line   207; /home/valentin/.icaro/firmware/tmp/pwm.c   if ((CCP1CON & 0x0F)==0) init_PWM12();  
                                    
000080 50??           00700         MOVF    _CCP1CON, W
                      00701 ; #     ANDLW   0x0f
                      00702 ; #     BTFSS   STATUS, 2
                      00703 ; #     GOTO    _00705_DS_
                      00704 ; #     CALL    _init_PWM12
                      00705 ; #     MOVLW   0x03
                      00706 ;       .line   208; /home/valentin/.icaro/firmware/tmp/pwm.c   octet=value & 3;        // extract bit 0
                             and 1
000082 0B0F           00707         ANDLW   0x0f
000084 B4D8           00708         BTFSC   STATUS, 2
000086 EC?? F0??      00709         CALL    _init_PWM12
00008A 0E03           00710         MOVLW   0x03
00008C 14??           00711         ANDWF   r0x02, W
00008E 6E??           00712         MOVWF   r0x00
000090 6A??           00713         CLRF    r0x01
000092 50??           00714         MOVF    r0x00, W
000094 6E??           00715         MOVWF   r0x04
                      00716 ;       .line   209; /home/valentin/.icaro/firmware/tmp/pwm.c   octet<<=4;                      // rotat
                            e left 4 bits
000096 38??           00717         SWAPF   r0x04, W
000098 0BF0           00718         ANDLW   0xf0
00009A 6E??           00719         MOVWF   r0x04
                      00720 ;       .line   210; /home/valentin/.icaro/firmware/tmp/pwm.c   CCP1CON&=0x0F;          // reset bit 4:5
00009C 0E0F           00721         MOVLW   0x0f
00009E 16??           00722         ANDWF   _CCP1CON, F
                      00723 ;       .line   211; /home/valentin/.icaro/firmware/tmp/pwm.c   CCP1CON|=octet;         // put in CCP2CO
                            N 4:5
0000A0 50??           00724         MOVF    r0x04, W
0000A2 12??           00725         IORWF   _CCP1CON, F
                      00726 ;       .line   212; /home/valentin/.icaro/firmware/tmp/pwm.c   value>>=2;                      // 8 MSB
                             bits of value
0000A4 34??           00727         RLCF    r0x03, W
0000A6 32??           00728         RRCF    r0x03, F
0000A8 32??           00729         RRCF    r0x02, F
0000AA 34??           00730         RLCF    r0x03, W
0000AC 32??           00731         RRCF    r0x03, F
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0000AE 32??           00732         RRCF    r0x02, F
                      00733 ;       .line   213; /home/valentin/.icaro/firmware/tmp/pwm.c   octet=value;            // in octet
0000B0 50??           00734         MOVF    r0x02, W
0000B2 6E??           00735         MOVWF   _CCPR1L
0000B4                00736 _00708_DS_:
                      00737 ;       .line   214; /home/valentin/.icaro/firmware/tmp/pwm.c   CCPR1L=octet;           // put in CCPR1L
                                                    
0000B4 CFE4 F000      00738         MOVFF   PREINC1, r0x05
0000B8 CFE4 F000      00739         MOVFF   PREINC1, r0x04
0000BC CFE4 F000      00740         MOVFF   PREINC1, r0x03
0000C0 CFE4 F000      00741         MOVFF   PREINC1, r0x02
0000C4 CFE4 F000      00742         MOVFF   PREINC1, r0x01
0000C8 CFE4 F000      00743         MOVFF   PREINC1, r0x00
0000CC CFE4 FFD9      00744         MOVFF   PREINC1, FSR2L
0000D0 0012           00745         RETURN  
                      00746 
                      00747 ; ; Starting pCode block
                      00748 S_main__init_PWM12      code
000000                00749 _init_PWM12:
                      00750 ;       .line   181; /home/valentin/.icaro/firmware/tmp/pwm.c   TRISCbits.TRISC2=0;             // C2 is
                             an output
000000 94??           00751         BCF     _TRISCbits, 2
                      00752 ;       .line   182; /home/valentin/.icaro/firmware/tmp/pwm.c   PR2=0xFF;                               
                            // init timer 2 period
000002 68??           00753         SETF    _PR2
                      00754 ;       .line   183; /home/valentin/.icaro/firmware/tmp/pwm.c   T2CON=0x05;                             
                            // prescaler and timer 2 on
000004 0E05           00755         MOVLW   0x05
000006 6E??           00756         MOVWF   _T2CON
                      00757 ;       .line   184; /home/valentin/.icaro/firmware/tmp/pwm.c   CCPR1L=0;                               
                            // 8 bits MSB output = 0
000008 6A??           00758         CLRF    _CCPR1L
                      00759 ;       .line   185; /home/valentin/.icaro/firmware/tmp/pwm.c   CCP1CON=0x0F;                   // confi
                            gure for PWM 2 bits LSB = 0
00000A 0E0F           00760         MOVLW   0x0f
00000C 6E??           00761         MOVWF   _CCP1CON
00000E 0012           00762         RETURN  
                      00763 
                      00764 ; ; Starting pCode block
                      00765 S_main__init_PWM11      code
000000                00766 _init_PWM11:
                      00767 ;       .line   172; /home/valentin/.icaro/firmware/tmp/pwm.c   TRISCbits.TRISC1=0;             // C1 is
                             an output
000000 92??           00768         BCF     _TRISCbits, 1
                      00769 ;       .line   173; /home/valentin/.icaro/firmware/tmp/pwm.c   PR2=0xFF;                               
                            // init timer 2 period
000002 68??           00770         SETF    _PR2
                      00771 ;       .line   174; /home/valentin/.icaro/firmware/tmp/pwm.c   T2CON=0x05;                             
                            // prescaler and timer 2 on
000004 0E05           00772         MOVLW   0x05
000006 6E??           00773         MOVWF   _T2CON
                      00774 ;       .line   175; /home/valentin/.icaro/firmware/tmp/pwm.c   CCPR2L=0;                               
                            // 8 bits MSB output = 0
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000008 6A??           00775         CLRF    _CCPR2L
                      00776 ;       .line   176; /home/valentin/.icaro/firmware/tmp/pwm.c   CCP2CON=0x0F;                   // confi
                            gure for PWM 2 bits LSB = 0     
00000A 0E0F           00777         MOVLW   0x0f
00000C 6E??           00778         MOVWF   _CCP2CON
00000E 0012           00779         RETURN  
                      00780 
                      00781 ; ; Starting pCode block
                      00782 S_main__PWM_set_percent_dutycycle       code
000000                00783 _PWM_set_percent_dutycycle:
                      00784 ;       .line   151; /home/valentin/.icaro/firmware/tmp/pwm.c   void PWM_set_percent_dutycycle(u8 pin, u
                            8 percent)
000000 CFD9 FFE5      00785         MOVFF   FSR2L, POSTDEC1
000004 CFE1 FFD9      00786         MOVFF   FSR1L, FSR2L
000008 C??? F???      00787         MOVFF   r0x00, POSTDEC1
00000C C??? F???      00788         MOVFF   r0x01, POSTDEC1
000010 C??? F???      00789         MOVFF   r0x02, POSTDEC1
000014 C??? F???      00790         MOVFF   r0x03, POSTDEC1
000018 C??? F???      00791         MOVFF   r0x04, POSTDEC1
00001C C??? F???      00792         MOVFF   r0x05, POSTDEC1
000020 0E02           00793         MOVLW   0x02
000022 CFDB F000      00794         MOVFF   PLUSW2, r0x00
000026 0E03           00795         MOVLW   0x03
000028 CFDB F000      00796         MOVFF   PLUSW2, r0x01
                      00797 ;       .line   154; /home/valentin/.icaro/firmware/tmp/pwm.c   if (percent == 0)
00002C 50??           00798         MOVF    r0x01, W
00002E E1??           00799         BNZ     _00675_DS_
                      00800 ;       .line   156; /home/valentin/.icaro/firmware/tmp/pwm.c   duty = 0;
000030 6A??           00801         CLRF    r0x02
000032 6A??           00802         CLRF    r0x03
000034 D???           00803         BRA     _00676_DS_
000036                00804 _00675_DS_:
                      00805 ;       .line   158; /home/valentin/.icaro/firmware/tmp/pwm.c   else if (percent >= 100)
000036 0E64           00806         MOVLW   0x64
000038 5C??           00807         SUBWF   r0x01, W
00003A E3??           00808         BNC     _00672_DS_
00003C ????           00809         BANKSEL __pr2_plus1
                      00810 ;       .line   160; /home/valentin/.icaro/firmware/tmp/pwm.c   duty = _pr2_plus1 - 1;
00003E 51??           00811         MOVF    __pr2_plus1, W, B
000040 0FFF           00812         ADDLW   0xff
000042 6E??           00813         MOVWF   r0x02
000044 0EFF           00814         MOVLW   0xff
                      00815 ; removed redundant BANKSEL
000046 21??           00816         ADDWFC  (__pr2_plus1 + 1), W, B
000048 6E??           00817         MOVWF   r0x03
00004A D???           00818         BRA     _00676_DS_
00004C                00819 _00672_DS_:
                      00820 ;       .line   164; /home/valentin/.icaro/firmware/tmp/pwm.c   duty = percent * (_pr2_plus1 / 4) / 25; 
                            // (factor PR2/100)
00004C 90D8           00821         BCF     STATUS, 0
00004E ????           00822         BANKSEL (__pr2_plus1 + 1)
000050 31??           00823         RRCF    (__pr2_plus1 + 1), W, B
000052 6E??           00824         MOVWF   r0x05
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00825 ; removed redundant BANKSEL
000054 31??           00826         RRCF    __pr2_plus1, W, B
000056 6E??           00827         MOVWF   r0x04
000058 90D8           00828         BCF     STATUS, 0
00005A 32??           00829         RRCF    r0x05, F
00005C 32??           00830         RRCF    r0x04, F
00005E 50??           00831         MOVF    r0x05, W
000060 6EE5           00832         MOVWF   POSTDEC1
000062 50??           00833         MOVF    r0x04, W
000064 6EE5           00834         MOVWF   POSTDEC1
000066 6AE5           00835         CLRF    POSTDEC1
000068 50??           00836         MOVF    r0x01, W
00006A 6EE5           00837         MOVWF   POSTDEC1
00006C EC?? F0??      00838         CALL    __mulint
000070 6E??           00839         MOVWF   r0x01
000072 CFF3 F000      00840         MOVFF   PRODL, r0x04
000076 0E04           00841         MOVLW   0x04
000078 26E1           00842         ADDWF   FSR1L, F
00007A 6AE5           00843         CLRF    POSTDEC1
00007C 0E19           00844         MOVLW   0x19
00007E 6EE5           00845         MOVWF   POSTDEC1
000080 50??           00846         MOVF    r0x04, W
000082 6EE5           00847         MOVWF   POSTDEC1
000084 50??           00848         MOVF    r0x01, W
000086 6EE5           00849         MOVWF   POSTDEC1
000088 EC?? F0??      00850         CALL    __divuint
00008C 6E??           00851         MOVWF   r0x02
00008E CFF3 F000      00852         MOVFF   PRODL, r0x03
000092 0E04           00853         MOVLW   0x04
000094 26E1           00854         ADDWF   FSR1L, F
000096                00855 _00676_DS_:
                      00856 ;       .line   166; /home/valentin/.icaro/firmware/tmp/pwm.c   PWM_set_dutycycle(pin, duty << 2);
000096 50??           00857         MOVF    r0x02, W
000098 6E??           00858         MOVWF   r0x01
00009A 26??           00859         ADDWF   r0x01, F
00009C 34??           00860         RLCF    r0x03, W
00009E 6E??           00861         MOVWF   r0x04
0000A0 90D8           00862         BCF     STATUS, 0
0000A2 36??           00863         RLCF    r0x01, F
0000A4 36??           00864         RLCF    r0x04, F
0000A6 50??           00865         MOVF    r0x04, W
0000A8 6EE5           00866         MOVWF   POSTDEC1
0000AA 50??           00867         MOVF    r0x01, W
0000AC 6EE5           00868         MOVWF   POSTDEC1
0000AE 50??           00869         MOVF    r0x00, W
0000B0 6EE5           00870         MOVWF   POSTDEC1
0000B2 EC?? F0??      00871         CALL    _PWM_set_dutycycle
0000B6 0E03           00872         MOVLW   0x03
0000B8 26E1           00873         ADDWF   FSR1L, F
0000BA CFE4 F000      00874         MOVFF   PREINC1, r0x05
0000BE CFE4 F000      00875         MOVFF   PREINC1, r0x04
0000C2 CFE4 F000      00876         MOVFF   PREINC1, r0x03
0000C6 CFE4 F000      00877         MOVFF   PREINC1, r0x02
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0000CA CFE4 F000      00878         MOVFF   PREINC1, r0x01
0000CE CFE4 F000      00879         MOVFF   PREINC1, r0x00
0000D2 CFE4 FFD9      00880         MOVFF   PREINC1, FSR2L
0000D6 0012           00881         RETURN  
                      00882 
                      00883 ; ; Starting pCode block
                      00884 S_main__PWM_set_dutycycle       code
000000                00885 _PWM_set_dutycycle:
                      00886 ;       .line   98; /home/valentin/.icaro/firmware/tmp/pwm.c    void PWM_set_dutycycle(u8 pin, u16 duty)
000000 CFD9 FFE5      00887         MOVFF   FSR2L, POSTDEC1
000004 CFE1 FFD9      00888         MOVFF   FSR1L, FSR2L
000008 C??? F???      00889         MOVFF   r0x00, POSTDEC1
00000C C??? F???      00890         MOVFF   r0x01, POSTDEC1
000010 C??? F???      00891         MOVFF   r0x02, POSTDEC1
000014 C??? F???      00892         MOVFF   r0x03, POSTDEC1
000018 C??? F???      00893         MOVFF   r0x04, POSTDEC1
00001C C??? F???      00894         MOVFF   r0x05, POSTDEC1
000020 C??? F???      00895         MOVFF   r0x06, POSTDEC1
000024 C??? F???      00896         MOVFF   r0x07, POSTDEC1
000028 0E02           00897         MOVLW   0x02
00002A CFDB F000      00898         MOVFF   PLUSW2, r0x00
00002E 0E03           00899         MOVLW   0x03
000030 CFDB F000      00900         MOVFF   PLUSW2, r0x01
000034 0E04           00901         MOVLW   0x04
000036 CFDB F000      00902         MOVFF   PLUSW2, r0x02
                      00903 ;       .line   102; /home/valentin/.icaro/firmware/tmp/pwm.c   if (duty > 1023) duty = 1023;           
                            // upper limit (10-bit)
00003A 50??           00904         MOVF    r0x02, W
00003C 0BFC           00905         ANDLW   0xfc
00003E E0??           00906         BZ      _00635_DS_
000040 68??           00907         SETF    r0x01
000042 0E03           00908         MOVLW   0x03
000044 6E??           00909         MOVWF   r0x02
000046                00910 _00635_DS_:
                      00911 ;       .line   105; /home/valentin/.icaro/firmware/tmp/pwm.c   pinmode(pin, INPUT);                    
                                    // PWM pin as INPUT
000046 C??? F???      00912         MOVFF   r0x00, r0x03
00004A 6A??           00913         CLRF    r0x04
00004C 6AE5           00914         CLRF    POSTDEC1
00004E 0E01           00915         MOVLW   0x01
000050 6EE5           00916         MOVWF   POSTDEC1
000052 6AE5           00917         CLRF    POSTDEC1
000054 50??           00918         MOVF    r0x03, W
000056 6EE5           00919         MOVWF   POSTDEC1
000058 EC?? F0??      00920         CALL    _pinmode
00005C 0E04           00921         MOVLW   0x04
00005E 26E1           00922         ADDWF   FSR1L, F
000060 ????           00923         BANKSEL __pr2_plus1
                      00924 ;       .line   107; /home/valentin/.icaro/firmware/tmp/pwm.c   PR2 = _pr2_plus1 - 1;                   
                                    // set PR2
000062 51??           00925         MOVF    __pr2_plus1, W, B
000064 6E??           00926         MOVWF   r0x05
000066 04??           00927         DECF    r0x05, W
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000068 6E??           00928         MOVWF   _PR2
                      00929 ;       .line   109; /home/valentin/.icaro/firmware/tmp/pwm.c   if (pin == 11)
00006A 50??           00930         MOVF    r0x00, W
00006C 0A0B           00931         XORLW   0x0b
00006E E1??           00932         BNZ     _00637_DS_
                      00933 ;       .line   112; /home/valentin/.icaro/firmware/tmp/pwm.c   CCP2CON = Bin(00001111);                
                            // reset also 2 LSbits of duty cycle
000070 0E0F           00934         MOVLW   0x0f
000072 6E??           00935         MOVWF   _CCP2CON
                      00936 ;       .line   114; /home/valentin/.icaro/firmware/tmp/pwm.c   temp = duty & Bin(00000011);    // extra
                            ct 2 LSbits of duty
000074 0E03           00937         MOVLW   0x03
000076 14??           00938         ANDWF   r0x01, W
000078 6E??           00939         MOVWF   r0x05
00007A 6A??           00940         CLRF    r0x06
                      00941 ;       .line   115; /home/valentin/.icaro/firmware/tmp/pwm.c   temp <<= 4;                             
                                            // shift left 4 bits
00007C 38??           00942         SWAPF   r0x05, W
00007E 0BF0           00943         ANDLW   0xf0
                      00944 ; #     MOVWF   r0x05
                      00945 ; #     MOVF    r0x05, W
                      00946 ;       .line   116; /home/valentin/.icaro/firmware/tmp/pwm.c   CCP2CON |= temp;                        
                                    // put in CCP2CON 4:5  (DCBx1 and DCBx0)
000080 12??           00947         IORWF   _CCP2CON, F
                      00948 ;       .line   117; /home/valentin/.icaro/firmware/tmp/pwm.c   CCPR2L = duty >> 2;                     
                                    // 8 MSbits of duty
000082 90D8           00949         BCF     STATUS, 0
000084 30??           00950         RRCF    r0x02, W
000086 6E??           00951         MOVWF   r0x07
000088 30??           00952         RRCF    r0x01, W
00008A 6E??           00953         MOVWF   r0x06
00008C 90D8           00954         BCF     STATUS, 0
00008E 32??           00955         RRCF    r0x07, F
000090 32??           00956         RRCF    r0x06, F
000092 50??           00957         MOVF    r0x06, W
000094 6E??           00958         MOVWF   _CCPR2L
000096                00959 _00637_DS_:
                      00960 ;       .line   120; /home/valentin/.icaro/firmware/tmp/pwm.c   if (pin == 12)
000096 50??           00961         MOVF    r0x00, W
000098 0A0C           00962         XORLW   0x0c
00009A E1??           00963         BNZ     _00639_DS_
                      00964 ;       .line   123; /home/valentin/.icaro/firmware/tmp/pwm.c   CCP1CON = Bin(00001111);
00009C 0E0F           00965         MOVLW   0x0f
00009E 6E??           00966         MOVWF   _CCP1CON
                      00967 ;       .line   125; /home/valentin/.icaro/firmware/tmp/pwm.c   temp = duty & Bin(00000011);    // extra
                            ct 2 LSbits of the duty
0000A0 0E03           00968         MOVLW   0x03
0000A2 14??           00969         ANDWF   r0x01, W
0000A4 6E??           00970         MOVWF   r0x00
0000A6 6A??           00971         CLRF    r0x06
0000A8 50??           00972         MOVF    r0x00, W
0000AA 6E??           00973         MOVWF   r0x05
                      00974 ;       .line   126; /home/valentin/.icaro/firmware/tmp/pwm.c   temp <<= 4;                             
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                                            // shift left 4 bits
0000AC 38??           00975         SWAPF   r0x05, W
0000AE 0BF0           00976         ANDLW   0xf0
                      00977 ; #     MOVWF   r0x05
                      00978 ; #     MOVF    r0x05, W
                      00979 ;       .line   127; /home/valentin/.icaro/firmware/tmp/pwm.c   CCP1CON |= temp;                        
                                    // put in CCP2CON 4:5
0000B0 12??           00980         IORWF   _CCP1CON, F
                      00981 ;       .line   128; /home/valentin/.icaro/firmware/tmp/pwm.c   CCPR1L = duty >> 2;                     
                                    // 8 MSbits of the duty
0000B2 90D8           00982         BCF     STATUS, 0
0000B4 32??           00983         RRCF    r0x02, F
0000B6 32??           00984         RRCF    r0x01, F
0000B8 90D8           00985         BCF     STATUS, 0
0000BA 32??           00986         RRCF    r0x02, F
0000BC 32??           00987         RRCF    r0x01, F
0000BE 50??           00988         MOVF    r0x01, W
0000C0 6E??           00989         MOVWF   _CCPR1L
0000C2                00990 _00639_DS_:
                      00991 ;       .line   132; /home/valentin/.icaro/firmware/tmp/pwm.c   PIR1bits.TMR2IF = 0;                    
                                    // reset this flag for the next test
0000C2 92??           00992         BCF     _PIR1bits, 1
                      00993 ;       .line   133; /home/valentin/.icaro/firmware/tmp/pwm.c   T2CON = _t2con;                         
                                            // Timer2 prescaler
0000C4 C??? F???      00994         MOVFF   __t2con, _T2CON
                      00995 ;       .line   134; /home/valentin/.icaro/firmware/tmp/pwm.c   T2CONbits.TMR2ON = ON;                  
                                    // enable Timer2
0000C8 84??           00996         BSF     _T2CONbits, 2
0000CA                00997 _00640_DS_:
                      00998 ;       .line   136; /home/valentin/.icaro/firmware/tmp/pwm.c   while (PIR1bits.TMR2IF == 0);           
                            // Wait until TMR2 overflows
0000CA A2??           00999         BTFSS   _PIR1bits, 1
0000CC D???           01000         BRA     _00640_DS_
                      01001 ;       .line   137; /home/valentin/.icaro/firmware/tmp/pwm.c   pinmode(pin, OUTPUT);                   
                                    // PWM pin as OUTPUT
0000CE 6AE5           01002         CLRF    POSTDEC1
0000D0 6AE5           01003         CLRF    POSTDEC1
0000D2 50??           01004         MOVF    r0x04, W
0000D4 6EE5           01005         MOVWF   POSTDEC1
0000D6 50??           01006         MOVF    r0x03, W
0000D8 6EE5           01007         MOVWF   POSTDEC1
0000DA EC?? F0??      01008         CALL    _pinmode
0000DE 0E04           01009         MOVLW   0x04
0000E0 26E1           01010         ADDWF   FSR1L, F
0000E2 CFE4 F000      01011         MOVFF   PREINC1, r0x07
0000E6 CFE4 F000      01012         MOVFF   PREINC1, r0x06
0000EA CFE4 F000      01013         MOVFF   PREINC1, r0x05
0000EE CFE4 F000      01014         MOVFF   PREINC1, r0x04
0000F2 CFE4 F000      01015         MOVFF   PREINC1, r0x03
0000F6 CFE4 F000      01016         MOVFF   PREINC1, r0x02
0000FA CFE4 F000      01017         MOVFF   PREINC1, r0x01
0000FE CFE4 F000      01018         MOVFF   PREINC1, r0x00
000102 CFE4 FFD9      01019         MOVFF   PREINC1, FSR2L
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000106 0012           01020         RETURN  
                      01021 
                      01022 ; ; Starting pCode block
                      01023 S_main__PWM_set_frequency       code
000000                01024 _PWM_set_frequency:
                      01025 ;       .line   55; /home/valentin/.icaro/firmware/tmp/pwm.c    void PWM_set_frequency(u32 freq)
000000 CFD9 FFE5      01026         MOVFF   FSR2L, POSTDEC1
000004 CFE1 FFD9      01027         MOVFF   FSR1L, FSR2L
000008 C??? F???      01028         MOVFF   r0x00, POSTDEC1
00000C C??? F???      01029         MOVFF   r0x01, POSTDEC1
000010 C??? F???      01030         MOVFF   r0x02, POSTDEC1
000014 C??? F???      01031         MOVFF   r0x03, POSTDEC1
000018 0E02           01032         MOVLW   0x02
00001A CFDB F000      01033         MOVFF   PLUSW2, r0x00
00001E 0E03           01034         MOVLW   0x03
000020 CFDB F000      01035         MOVFF   PLUSW2, r0x01
000024 0E04           01036         MOVLW   0x04
000026 CFDB F000      01037         MOVFF   PLUSW2, r0x02
00002A 0E05           01038         MOVLW   0x05
00002C CFDB F000      01039         MOVFF   PLUSW2, r0x03
                      01040 ;       .line   58; /home/valentin/.icaro/firmware/tmp/pwm.c    _pr2_plus1 = MIPS / freq;               
                                            // FOSC / (4 * PWM Frequency)
000030 50??           01041         MOVF    r0x03, W
000032 6EE5           01042         MOVWF   POSTDEC1
000034 50??           01043         MOVF    r0x02, W
000036 6EE5           01044         MOVWF   POSTDEC1
000038 50??           01045         MOVF    r0x01, W
00003A 6EE5           01046         MOVWF   POSTDEC1
00003C 50??           01047         MOVF    r0x00, W
00003E 6EE5           01048         MOVWF   POSTDEC1
000040 6AE5           01049         CLRF    POSTDEC1
000042 0EB7           01050         MOVLW   0xb7
000044 6EE5           01051         MOVWF   POSTDEC1
000046 0E1B           01052         MOVLW   0x1b
000048 6EE5           01053         MOVWF   POSTDEC1
00004A 0E00           01054         MOVLW   0x00
00004C 6AE5           01055         CLRF    POSTDEC1
00004E EC?? F0??      01056         CALL    __divulong
000052 6E??           01057         MOVWF   r0x00
000054 CFF3 F000      01058         MOVFF   PRODL, r0x01
000058 0E08           01059         MOVLW   0x08
00005A 26E1           01060         ADDWF   FSR1L, F
00005C 50??           01061         MOVF    r0x00, W
00005E ????           01062         BANKSEL __pr2_plus1
000060 6F??           01063         MOVWF   __pr2_plus1, B
000062 50??           01064         MOVF    r0x01, W
                      01065 ; removed redundant BANKSEL
000064 6F??           01066         MOVWF   (__pr2_plus1 + 1), B
                      01067 ;       .line   64; /home/valentin/.icaro/firmware/tmp/pwm.c    if (_pr2_plus1 <= 4096)                 
                                            // check if it's not too high
000066 0E10           01068         MOVLW   0x10
                      01069 ; removed redundant BANKSEL
000068 5D??           01070         SUBWF   (__pr2_plus1 + 1), W, B
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00006A E1??           01071         BNZ     _00627_DS_
00006C 0E01           01072         MOVLW   0x01
                      01073 ; removed redundant BANKSEL
00006E 5D??           01074         SUBWF   __pr2_plus1, W, B
000070                01075 _00627_DS_:
000070 E2??           01076         BC      _00616_DS_
                      01077 ;       .line   66; /home/valentin/.icaro/firmware/tmp/pwm.c    if (_pr2_plus1 <= 256)                  
                                    // no needs of any prescaler
000072 0E01           01078         MOVLW   0x01
000074 ????           01079         BANKSEL (__pr2_plus1 + 1)
000076 5D??           01080         SUBWF   (__pr2_plus1 + 1), W, B
000078 E1??           01081         BNZ     _00628_DS_
00007A 0E01           01082         MOVLW   0x01
                      01083 ; removed redundant BANKSEL
00007C 5D??           01084         SUBWF   __pr2_plus1, W, B
00007E                01085 _00628_DS_:
00007E E2??           01086         BC      _00612_DS_
000080 ????           01087         BANKSEL __t2con
                      01088 ;       .line   68; /home/valentin/.icaro/firmware/tmp/pwm.c    _t2con = Bin(00);                       
                                    // prescaler is 1
000082 6B??           01089         CLRF    __t2con, B
000084 D???           01090         BRA     _00616_DS_
000086                01091 _00612_DS_:
                      01092 ;       .line   70; /home/valentin/.icaro/firmware/tmp/pwm.c    else if (_pr2_plus1 <= 1024)            
                            // needs prescaler 1:4
000086 0E04           01093         MOVLW   0x04
000088 ????           01094         BANKSEL (__pr2_plus1 + 1)
00008A 5D??           01095         SUBWF   (__pr2_plus1 + 1), W, B
00008C E1??           01096         BNZ     _00629_DS_
00008E 0E01           01097         MOVLW   0x01
                      01098 ; removed redundant BANKSEL
000090 5D??           01099         SUBWF   __pr2_plus1, W, B
000092                01100 _00629_DS_:
000092 E2??           01101         BC      _00609_DS_
                      01102 ;       .line   72; /home/valentin/.icaro/firmware/tmp/pwm.c    _pr2_plus1 = _pr2_plus1 >> 2;   // divid
                            ed by 4
000094 90D8           01103         BCF     STATUS, 0
000096 ????           01104         BANKSEL (__pr2_plus1 + 1)
000098 33??           01105         RRCF    (__pr2_plus1 + 1), F, B
                      01106 ; removed redundant BANKSEL
00009A 33??           01107         RRCF    __pr2_plus1, F, B
00009C 90D8           01108         BCF     STATUS, 0
                      01109 ; removed redundant BANKSEL
00009E 33??           01110         RRCF    (__pr2_plus1 + 1), F, B
                      01111 ; removed redundant BANKSEL
0000A0 33??           01112         RRCF    __pr2_plus1, F, B
                      01113 ;       .line   73; /home/valentin/.icaro/firmware/tmp/pwm.c    _t2con = Bin(01);                       
                                    // prescaler is 4
0000A2 0E01           01114         MOVLW   0x01
0000A4 ????           01115         BANKSEL __t2con
0000A6 6F??           01116         MOVWF   __t2con, B
0000A8 D???           01117         BRA     _00616_DS_
0000AA                01118 _00609_DS_:
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01119 ;       .line   77; /home/valentin/.icaro/firmware/tmp/pwm.c    _pr2_plus1 = _pr2_plus1 >> 4;   // divid
                            ed by 16
0000AA 0EF0           01120         MOVLW   0xf0
0000AC ????           01121         BANKSEL __pr2_plus1
0000AE 17??           01122         ANDWF   __pr2_plus1, F, B
0000B0 3B??           01123         SWAPF   __pr2_plus1, F, B
                      01124 ; removed redundant BANKSEL
0000B2 3B??           01125         SWAPF   (__pr2_plus1 + 1), F, B
0000B4 15??           01126         ANDWF   (__pr2_plus1 + 1), W, B
0000B6 1B??           01127         XORWF   (__pr2_plus1 + 1), F, B
                      01128 ; removed redundant BANKSEL
0000B8 27??           01129         ADDWF   __pr2_plus1, F, B
                      01130 ;       .line   78; /home/valentin/.icaro/firmware/tmp/pwm.c    _t2con = Bin(10);                       
                                    // prescaler is 16
0000BA 0E02           01131         MOVLW   0x02
0000BC ????           01132         BANKSEL __t2con
0000BE 6F??           01133         MOVWF   __t2con, B
0000C0                01134 _00616_DS_:
0000C0 CFE4 F000      01135         MOVFF   PREINC1, r0x03
0000C4 CFE4 F000      01136         MOVFF   PREINC1, r0x02
0000C8 CFE4 F000      01137         MOVFF   PREINC1, r0x01
0000CC CFE4 F000      01138         MOVFF   PREINC1, r0x00
0000D0 CFE4 FFD9      01139         MOVFF   PREINC1, FSR2L
0000D4 0012           01140         RETURN  
                      01141 
                      01142 ; ; Starting pCode block
                      01143 S_main__Delayus code
000000                01144 _Delayus:
                      01145 ;       .line   16; /home/valentin/.icaro/firmware/tmp/arduinodelay.c   void Delayus(int microsecondes)
000000 CFD9 FFE5      01146         MOVFF   FSR2L, POSTDEC1
000004 CFE1 FFD9      01147         MOVFF   FSR1L, FSR2L
000008 C??? F???      01148         MOVFF   r0x00, POSTDEC1
00000C C??? F???      01149         MOVFF   r0x01, POSTDEC1
000010 C??? F???      01150         MOVFF   r0x02, POSTDEC1
000014 C??? F???      01151         MOVFF   r0x03, POSTDEC1
000018 C??? F???      01152         MOVFF   r0x04, POSTDEC1
00001C 0E02           01153         MOVLW   0x02
00001E CFDB F000      01154         MOVFF   PLUSW2, r0x00
000022 0E03           01155         MOVLW   0x03
000024 CFDB F000      01156         MOVFF   PLUSW2, r0x01
                      01157 ;       .line   20; /home/valentin/.icaro/firmware/tmp/arduinodelay.c   for (i=0;i<microsecondes;i++);
000028 6A??           01158         CLRF    r0x02
00002A 6A??           01159         CLRF    r0x03
00002C                01160 _00592_DS_:
00002C 50??           01161         MOVF    r0x00, W
00002E 6E??           01162         MOVWF   r0x04
                      01163 ; #     MOVF    r0x01, W
                      01164 ; #     MOVWF   r0x05
                      01165 ; #     MOVF    r0x05, W
000030 50??           01166         MOVF    r0x01, W
000032 5C??           01167         SUBWF   r0x03, W
000034 E1??           01168         BNZ     _00603_DS_
000036 50??           01169         MOVF    r0x04, W
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000038 5C??           01170         SUBWF   r0x02, W
00003A                01171 _00603_DS_:
00003A E2??           01172         BC      _00594_DS_
00003C 4A??           01173         INFSNZ  r0x02, F
00003E 2A??           01174         INCF    r0x03, F
000040 D???           01175         BRA     _00592_DS_
000042                01176 _00594_DS_:
000042 CFE4 F000      01177         MOVFF   PREINC1, r0x04
000046 CFE4 F000      01178         MOVFF   PREINC1, r0x03
00004A CFE4 F000      01179         MOVFF   PREINC1, r0x02
00004E CFE4 F000      01180         MOVFF   PREINC1, r0x01
000052 CFE4 F000      01181         MOVFF   PREINC1, r0x00
000056 CFE4 FFD9      01182         MOVFF   PREINC1, FSR2L
00005A 0012           01183         RETURN  
                      01184 
                      01185 ; ; Starting pCode block
                      01186 S_main__Delayms code
000000                01187 _Delayms:
                      01188 ;       .line   9; /home/valentin/.icaro/firmware/tmp/arduinodelay.c    void Delayms(unsigned long milli
                            seconde)
000000 CFD9 FFE5      01189         MOVFF   FSR2L, POSTDEC1
000004 CFE1 FFD9      01190         MOVFF   FSR1L, FSR2L
000008 C??? F???      01191         MOVFF   r0x00, POSTDEC1
00000C C??? F???      01192         MOVFF   r0x01, POSTDEC1
000010 C??? F???      01193         MOVFF   r0x02, POSTDEC1
000014 C??? F???      01194         MOVFF   r0x03, POSTDEC1
000018 C??? F???      01195         MOVFF   r0x04, POSTDEC1
00001C C??? F???      01196         MOVFF   r0x05, POSTDEC1
000020 C??? F???      01197         MOVFF   r0x06, POSTDEC1
000024 C??? F???      01198         MOVFF   r0x07, POSTDEC1
000028 0E02           01199         MOVLW   0x02
00002A CFDB F000      01200         MOVFF   PLUSW2, r0x00
00002E 0E03           01201         MOVLW   0x03
000030 CFDB F000      01202         MOVFF   PLUSW2, r0x01
000034 0E04           01203         MOVLW   0x04
000036 CFDB F000      01204         MOVFF   PLUSW2, r0x02
00003A 0E05           01205         MOVLW   0x05
00003C CFDB F000      01206         MOVFF   PLUSW2, r0x03
                      01207 ;       .line   13; /home/valentin/.icaro/firmware/tmp/arduinodelay.c   for (i=0;i<milliseconde;i++) del
                            ay10ktcy(1);
000040 6A??           01208         CLRF    r0x04
000042 6A??           01209         CLRF    r0x05
000044 6A??           01210         CLRF    r0x06
000046 6A??           01211         CLRF    r0x07
000048                01212 _00573_DS_:
000048 50??           01213         MOVF    r0x03, W
00004A 5C??           01214         SUBWF   r0x07, W
00004C E1??           01215         BNZ     _00584_DS_
00004E 50??           01216         MOVF    r0x02, W
000050 5C??           01217         SUBWF   r0x06, W
000052 E1??           01218         BNZ     _00584_DS_
000054 50??           01219         MOVF    r0x01, W
000056 5C??           01220         SUBWF   r0x05, W
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000058 E1??           01221         BNZ     _00584_DS_
00005A 50??           01222         MOVF    r0x00, W
00005C 5C??           01223         SUBWF   r0x04, W
00005E                01224 _00584_DS_:
00005E E2??           01225         BC      _00575_DS_
000060 0E01           01226         MOVLW   0x01
000062 EC?? F0??      01227         CALL    _delay10ktcy
000066 2A??           01228         INCF    r0x04, F
000068 E3??           01229         BNC     _00573_DS_
00006A 2A??           01230         INCF    r0x05, F
00006C E3??           01231         BNC     _00573_DS_
00006E 4A??           01232         INFSNZ  r0x06, F
000070 2A??           01233         INCF    r0x07, F
000072                01234 _00585_DS_:
000072 D???           01235         BRA     _00573_DS_
000074                01236 _00575_DS_:
000074 CFE4 F000      01237         MOVFF   PREINC1, r0x07
000078 CFE4 F000      01238         MOVFF   PREINC1, r0x06
00007C CFE4 F000      01239         MOVFF   PREINC1, r0x05
000080 CFE4 F000      01240         MOVFF   PREINC1, r0x04
000084 CFE4 F000      01241         MOVFF   PREINC1, r0x03
000088 CFE4 F000      01242         MOVFF   PREINC1, r0x02
00008C CFE4 F000      01243         MOVFF   PREINC1, r0x01
000090 CFE4 F000      01244         MOVFF   PREINC1, r0x00
000094 CFE4 FFD9      01245         MOVFF   PREINC1, FSR2L
000098 0012           01246         RETURN  
                      01247 
                      01248 ; ; Starting pCode block
                      01249 S_main__analogread      code
000000                01250 _analogread:
                      01251 ;       .line   40; /home/valentin/.icaro/firmware/tmp/analog.c unsigned int analogread(unsigned char ch
                            annel)
000000 CFD9 FFE5      01252         MOVFF   FSR2L, POSTDEC1
000004 CFE1 FFD9      01253         MOVFF   FSR1L, FSR2L
000008 C??? F???      01254         MOVFF   r0x00, POSTDEC1
00000C C??? F???      01255         MOVFF   r0x01, POSTDEC1
000010 C??? F???      01256         MOVFF   r0x02, POSTDEC1
000014 C??? F???      01257         MOVFF   r0x03, POSTDEC1
000018 0E02           01258         MOVLW   0x02
00001A CFDB F000      01259         MOVFF   PLUSW2, r0x00
                      01260 ;       .line   55; /home/valentin/.icaro/firmware/tmp/analog.c ADCON0=(channel-13)*4;
00001E 0EF3           01261         MOVLW   0xf3
000020 26??           01262         ADDWF   r0x00, F
                      01263 ; ;multiply lit val:0x04 by variable r0x00 and store in _ADCON0
000022 50??           01264         MOVF    r0x00, W
000024 0D04           01265         MULLW   0x04
000026 CFF3 F000      01266         MOVFF   PRODL, _ADCON0
                      01267 ;       .line   59; /home/valentin/.icaro/firmware/tmp/analog.c ADCON0bits.ADON=1;
00002A 80??           01268         BSF     _ADCON0bits, 0
                      01269 ;       .line   60; /home/valentin/.icaro/firmware/tmp/analog.c for (result=1;result<10;result++) __asm 
                            NOP __endasm;
00002C 0E09           01270         MOVLW   0x09
00002E 6E??           01271         MOVWF   r0x00
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 26


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000030 6A??           01272         CLRF    r0x01
000032                01273 _00565_DS_:
000032 0000           01274         NOP 
000034 0EFF           01275         MOVLW   0xff
000036 26??           01276         ADDWF   r0x00, F
000038 22??           01277         ADDWFC  r0x01, F
00003A 50??           01278         MOVF    r0x00, W
00003C 10??           01279         IORWF   r0x01, W
00003E E1??           01280         BNZ     _00565_DS_
                      01281 ;       .line   61; /home/valentin/.icaro/firmware/tmp/analog.c ADCON0bits.GO=1;
000040 82??           01282         BSF     _ADCON0bits, 1
000042                01283 _00560_DS_:
                      01284 ;       .line   62; /home/valentin/.icaro/firmware/tmp/analog.c while (ADCON0bits.GO);
000042 B2??           01285         BTFSC   _ADCON0bits, 1
000044 D???           01286         BRA     _00560_DS_
                      01287 ;       .line   63; /home/valentin/.icaro/firmware/tmp/analog.c result=ADRESH<<8;
000046 C??? F???      01288         MOVFF   _ADRESH, r0x00
00004A 6A??           01289         CLRF    r0x01
00004C 50??           01290         MOVF    r0x00, W
00004E 6E??           01291         MOVWF   r0x03
000050 6A??           01292         CLRF    r0x02
                      01293 ;       .line   64; /home/valentin/.icaro/firmware/tmp/analog.c result+=ADRESL;
000052 C??? F???      01294         MOVFF   _ADRESL, r0x00
000056 6A??           01295         CLRF    r0x01
000058 50??           01296         MOVF    r0x00, W
00005A 26??           01297         ADDWF   r0x02, F
00005C 50??           01298         MOVF    r0x01, W
00005E 22??           01299         ADDWFC  r0x03, F
                      01300 ;       .line   65; /home/valentin/.icaro/firmware/tmp/analog.c ADCON0bits.ADON=0;
000060 90??           01301         BCF     _ADCON0bits, 0
                      01302 ;       .line   66; /home/valentin/.icaro/firmware/tmp/analog.c return(result);
000062 C??? F???      01303         MOVFF   r0x03, PRODL
000066 50??           01304         MOVF    r0x02, W
000068 CFE4 F000      01305         MOVFF   PREINC1, r0x03
00006C CFE4 F000      01306         MOVFF   PREINC1, r0x02
000070 CFE4 F000      01307         MOVFF   PREINC1, r0x01
000074 CFE4 F000      01308         MOVFF   PREINC1, r0x00
000078 CFE4 FFD9      01309         MOVFF   PREINC1, FSR2L
00007C 0012           01310         RETURN  
                      01311 
                      01312 ; ; Starting pCode block
                      01313 S_main__analogReference code
000000                01314 _analogReference:
                      01315 ;       .line   32; /home/valentin/.icaro/firmware/tmp/analog.c void analogReference(unsigned char Type)
000000 CFD9 FFE5      01316         MOVFF   FSR2L, POSTDEC1
000004 CFE1 FFD9      01317         MOVFF   FSR1L, FSR2L
000008 C??? F???      01318         MOVFF   r0x00, POSTDEC1
00000C 0E02           01319         MOVLW   0x02
00000E CFDB F000      01320         MOVFF   PLUSW2, r0x00
                      01321 ; #     MOVF    r0x00, W
                      01322 ; #     BTFSS   STATUS, 2
                      01323 ; #     GOTO    _00543_DS_
                      01324 ; #     GOTO    _00545_DS_
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01325 ; #     MOVF    r0x00, W
                      01326 ;       .line   34; /home/valentin/.icaro/firmware/tmp/analog.c if(Type == DEFAULTAN)                   
                            //the default analog reference of 5 volts (on 5V Arduino boards) or 3.3 volts (on 3.3V Arduino boards)
000012 50??           01327         MOVF    r0x00, W
                      01328 ;       .line   35; /home/valentin/.icaro/firmware/tmp/analog.c ADCON1|=0x00;                   //Vref+ 
                            = VDD
000014 E0??           01329         BZ      _00545_DS_
                      01330 ;       .line   36; /home/valentin/.icaro/firmware/tmp/analog.c else if(Type == EXTERNAL)       //the vo
                            ltage applied to the AREF pin (0 to 5V only) is used as the reference.
000016 50??           01331         MOVF    r0x00, W
000018 0A01           01332         XORLW   0x01
00001A E1??           01333         BNZ     _00545_DS_
                      01334 ;       .line   37; /home/valentin/.icaro/firmware/tmp/analog.c ADCON1|=0x10;                   //Vref+ 
                            = External source
00001C 88??           01335         BSF     _ADCON1, 4
00001E                01336 _00545_DS_:
00001E CFE4 F000      01337         MOVFF   PREINC1, r0x00
000022 CFE4 FFD9      01338         MOVFF   PREINC1, FSR2L
000026 0012           01339         RETURN  
                      01340 
                      01341 ; ; Starting pCode block
                      01342 S_main__analog_init     code
000000                01343 _analog_init:
                      01344 ;       .line   15; /home/valentin/.icaro/firmware/tmp/analog.c TRISA=TRISA | 0x2F;
000000 0E2F           01345         MOVLW   0x2f
000002 12??           01346         IORWF   _TRISA, F
                      01347 ;       .line   16; /home/valentin/.icaro/firmware/tmp/analog.c TRISE=TRISE | 0x07;     
000004 0E07           01348         MOVLW   0x07
000006 12??           01349         IORWF   _TRISE, F
                      01350 ;       .line   17; /home/valentin/.icaro/firmware/tmp/analog.c ADCON1=0x07;
000008 6E??           01351         MOVWF   _ADCON1
                      01352 ;       .line   18; /home/valentin/.icaro/firmware/tmp/analog.c ADCON2=0xBD;
00000A 0EBD           01353         MOVLW   0xbd
00000C 6E??           01354         MOVWF   _ADCON2
00000E 0012           01355         RETURN  
                      01356 
                      01357 ; ; Starting pCode block
                      01358 S_main__servos_interrupt        code
000000                01359 _servos_interrupt:
                      01360 ;       .line   289; /home/valentin/.icaro/firmware/tmp/servos.c        if (PIR1bits.TMR1IF) {
000000 A0??           01361         BTFSS   _PIR1bits, 0
000002 D???           01362         BRA     _00530_DS_
                      01363 ;       .line   290; /home/valentin/.icaro/firmware/tmp/servos.c        PIR1bits.TMR1IF=0;
000004 90??           01364         BCF     _PIR1bits, 0
                      01365 ;       .line   291; /home/valentin/.icaro/firmware/tmp/servos.c        T1CON=0x00;
000006 6A??           01366         CLRF    _T1CON
000008 ????           01367         BANKSEL _phase
                      01368 ;       .line   292; /home/valentin/.icaro/firmware/tmp/servos.c        if (phase) {
00000A 51??           01369         MOVF    _phase, W, B
00000C E0??           01370         BZ      _00526_DS_
                      01371 ;       .line   294; /home/valentin/.icaro/firmware/tmp/servos.c        ServosPulseUp();
00000E EC?? F0??      01372         CALL    _ServosPulseUp
                      01373 ;       .line   296; /home/valentin/.icaro/firmware/tmp/servos.c        TMR1H= 0xd3;
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000012 0ED3           01374         MOVLW   0xd3
000014 6E??           01375         MOVWF   _TMR1H
                      01376 ;       .line   297; /home/valentin/.icaro/firmware/tmp/servos.c        TMR1L= 0x8f;
000016 0E8F           01377         MOVLW   0x8f
000018 6E??           01378         MOVWF   _TMR1L
                      01379 ;       .line   299; /home/valentin/.icaro/firmware/tmp/servos.c        T1CON=1;
00001A 0E01           01380         MOVLW   0x01
00001C 6E??           01381         MOVWF   _T1CON
00001E ????           01382         BANKSEL _phase
                      01383 ;       .line   300; /home/valentin/.icaro/firmware/tmp/servos.c        phase = 0;
000020 6B??           01384         CLRF    _phase, B
000022 D???           01385         BRA     _00530_DS_
000024                01386 _00526_DS_:
                      01387 ;       .line   305; /home/valentin/.icaro/firmware/tmp/servos.c        ServosPulseDown();
000024 EC?? F0??      01388         CALL    _ServosPulseDown
                      01389 ;       .line   309; /home/valentin/.icaro/firmware/tmp/servos.c        TMR1H= 0x2d;
000028 0E2D           01390         MOVLW   0x2d
00002A 6E??           01391         MOVWF   _TMR1H
                      01392 ;       .line   310; /home/valentin/.icaro/firmware/tmp/servos.c        TMR1L= 0x0f;
00002C 0E0F           01393         MOVLW   0x0f
00002E 6E??           01394         MOVWF   _TMR1L
                      01395 ; #     MOVF    _needreordering, W, B
                      01396 ; #     BTFSC   STATUS, 2
                      01397 ; #     GOTO    _00524_DS_
                      01398 ; #     CALL    _SortServoTimings
                      01399 ; #     MOVLW   0x21
000030 ????           01400         BANKSEL _needreordering
                      01401 ;       .line   312; /home/valentin/.icaro/firmware/tmp/servos.c        if (needreordering)     
000032 51??           01402         MOVF    _needreordering, W, B
                      01403 ;       .line   313; /home/valentin/.icaro/firmware/tmp/servos.c        SortServoTimings();  // This tak
                            es more than 1 ms, but it's call only if needed.
000034 A4D8           01404         BTFSS   STATUS, 2
                      01405 ;       .line   314; /home/valentin/.icaro/firmware/tmp/servos.c        T1CON= ( 1 | 2 << 4 ) ; // activ
                            ate timer1 and prescaler = 1:4
000036 EC?? F0??      01406         CALL    _SortServoTimings
00003A 0E21           01407         MOVLW   0x21
00003C 6E??           01408         MOVWF   _T1CON
                      01409 ;       .line   315; /home/valentin/.icaro/firmware/tmp/servos.c        phase = 1;  //This indicates tha
                            t after next interrupt it will start the servos cycle.
00003E 0E01           01410         MOVLW   0x01
000040 ????           01411         BANKSEL _phase
000042 6F??           01412         MOVWF   _phase, B
000044                01413 _00530_DS_:
                      01414 ;       .line   318; /home/valentin/.icaro/firmware/tmp/servos.c        return;
000044 0012           01415         RETURN  
                      01416 
                      01417 ; ; Starting pCode block
                      01418 S_main__ServoMaximumPulse       code
000000                01419 _ServoMaximumPulse:
                      01420 ;       .line   274; /home/valentin/.icaro/firmware/tmp/servos.c        void ServoMaximumPulse(uchar ser
                            vo)
000000 CFD9 FFE5      01421         MOVFF   FSR2L, POSTDEC1
000004 CFE1 FFD9      01422         MOVFF   FSR1L, FSR2L
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000008 C??? F???      01423         MOVFF   r0x00, POSTDEC1
00000C C??? F???      01424         MOVFF   r0x01, POSTDEC1
000010 0E02           01425         MOVLW   0x02
000012 CFDB F000      01426         MOVFF   PLUSW2, r0x00
                      01427 ;       .line   276; /home/valentin/.icaro/firmware/tmp/servos.c        if(servo>=18)        // test if 
                            numservo is valid
000016 0E12           01428         MOVLW   0x12
                      01429 ; #     SUBWF   r0x00, W
                      01430 ; #     BTFSS   STATUS, 0
                      01431 ; #     GOTO    _00512_DS_
                      01432 ; #     GOTO    _00513_DS_
                      01433 ; #     CLRF    r0x01
                      01434 ;       .line   277; /home/valentin/.icaro/firmware/tmp/servos.c        return;
000018 5C??           01435         SUBWF   r0x00, W
                      01436 ;       .line   279; /home/valentin/.icaro/firmware/tmp/servos.c        servovalues[servo]=SERVOMAX;  //
                              250 = 2000 useg pulse
00001A E2??           01437         BC      _00513_DS_
00001C 6A??           01438         CLRF    r0x01
00001E 0E??           01439         MOVLW   LOW(_servovalues)
000020 26??           01440         ADDWF   r0x00, F
000022 0E??           01441         MOVLW   HIGH(_servovalues)
000024 22??           01442         ADDWFC  r0x01, F
000026 C??? F???      01443         MOVFF   r0x00, FSR0L
00002A C??? F???      01444         MOVFF   r0x01, FSR0H
00002E 0EFA           01445         MOVLW   0xfa
000030 6EEF           01446         MOVWF   INDF0
                      01447 ;       .line   281; /home/valentin/.icaro/firmware/tmp/servos.c        needreordering=1;  // This indic
                            ates servo timings must be reordered.
000032 0E01           01448         MOVLW   0x01
000034 ????           01449         BANKSEL _needreordering
000036 6F??           01450         MOVWF   _needreordering, B
000038                01451 _00513_DS_:
000038 CFE4 F000      01452         MOVFF   PREINC1, r0x01
00003C CFE4 F000      01453         MOVFF   PREINC1, r0x00
000040 CFE4 FFD9      01454         MOVFF   PREINC1, FSR2L
000044 0012           01455         RETURN  
                      01456 
                      01457 ; ; Starting pCode block
                      01458 S_main__ServoMinimumPulse       code
000000                01459 _ServoMinimumPulse:
                      01460 ;       .line   263; /home/valentin/.icaro/firmware/tmp/servos.c        void ServoMinimumPulse(uchar ser
                            vo)
000000 CFD9 FFE5      01461         MOVFF   FSR2L, POSTDEC1
000004 CFE1 FFD9      01462         MOVFF   FSR1L, FSR2L
000008 C??? F???      01463         MOVFF   r0x00, POSTDEC1
00000C C??? F???      01464         MOVFF   r0x01, POSTDEC1
000010 0E02           01465         MOVLW   0x02
000012 CFDB F000      01466         MOVFF   PLUSW2, r0x00
                      01467 ;       .line   265; /home/valentin/.icaro/firmware/tmp/servos.c        if(servo>=18)        // test if 
                            numservo is valid
000016 0E12           01468         MOVLW   0x12
                      01469 ; #     SUBWF   r0x00, W
                      01470 ; #     BTFSS   STATUS, 0
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 30


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01471 ; #     GOTO    _00500_DS_
                      01472 ; #     GOTO    _00501_DS_
                      01473 ; #     CLRF    r0x01
                      01474 ;       .line   266; /home/valentin/.icaro/firmware/tmp/servos.c        return;
000018 5C??           01475         SUBWF   r0x00, W
                      01476 ;       .line   268; /home/valentin/.icaro/firmware/tmp/servos.c        servovalues[servo]=SERVOMIN;  //
                              1 = 1000 useg pulse
00001A E2??           01477         BC      _00501_DS_
00001C 6A??           01478         CLRF    r0x01
00001E 0E??           01479         MOVLW   LOW(_servovalues)
000020 26??           01480         ADDWF   r0x00, F
000022 0E??           01481         MOVLW   HIGH(_servovalues)
000024 22??           01482         ADDWFC  r0x01, F
000026 C??? F???      01483         MOVFF   r0x00, FSR0L
00002A C??? F???      01484         MOVFF   r0x01, FSR0H
00002E 0E01           01485         MOVLW   0x01
000030 6EEF           01486         MOVWF   INDF0
000032 ????           01487         BANKSEL _needreordering
                      01488 ;       .line   270; /home/valentin/.icaro/firmware/tmp/servos.c        needreordering=1;  // This indic
                            ates servo timings must be reordered.
000034 6F??           01489         MOVWF   _needreordering, B
000036                01490 _00501_DS_:
000036 CFE4 F000      01491         MOVFF   PREINC1, r0x01
00003A CFE4 F000      01492         MOVFF   PREINC1, r0x00
00003E CFE4 FFD9      01493         MOVFF   PREINC1, FSR2L
000042 0012           01494         RETURN  
                      01495 
                      01496 ; ; Starting pCode block
                      01497 S_main__ServoRead       code
000000                01498 _ServoRead:
                      01499 ;       .line   255; /home/valentin/.icaro/firmware/tmp/servos.c        unsigned char ServoRead(uchar se
                            rvo)
000000 CFD9 FFE5      01500         MOVFF   FSR2L, POSTDEC1
000004 CFE1 FFD9      01501         MOVFF   FSR1L, FSR2L
000008 C??? F???      01502         MOVFF   r0x00, POSTDEC1
00000C C??? F???      01503         MOVFF   r0x01, POSTDEC1
000010 0E02           01504         MOVLW   0x02
000012 CFDB F000      01505         MOVFF   PLUSW2, r0x00
                      01506 ;       .line   257; /home/valentin/.icaro/firmware/tmp/servos.c        if(servo>=18)        // test if 
                            numservo is valid
000016 0E12           01507         MOVLW   0x12
000018 5C??           01508         SUBWF   r0x00, W
00001A E3??           01509         BNC     _00488_DS_
                      01510 ;       .line   258; /home/valentin/.icaro/firmware/tmp/servos.c        return 0;
00001C 6AE8           01511         CLRF    WREG
00001E D???           01512         BRA     _00489_DS_
000020                01513 _00488_DS_:
                      01514 ;       .line   259; /home/valentin/.icaro/firmware/tmp/servos.c        return servovalues[servo];
000020 6A??           01515         CLRF    r0x01
000022 0E??           01516         MOVLW   LOW(_servovalues)
000024 26??           01517         ADDWF   r0x00, F
000026 0E??           01518         MOVLW   HIGH(_servovalues)
000028 22??           01519         ADDWFC  r0x01, F
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 31


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00002A C??? F???      01520         MOVFF   r0x00, FSR0L
00002E C??? F???      01521         MOVFF   r0x01, FSR0H
000032 CFEF F000      01522         MOVFF   INDF0, r0x00
000036 50??           01523         MOVF    r0x00, W
000038                01524 _00489_DS_:
000038 CFE4 F000      01525         MOVFF   PREINC1, r0x01
00003C CFE4 F000      01526         MOVFF   PREINC1, r0x00
000040 CFE4 FFD9      01527         MOVFF   PREINC1, FSR2L
000044 0012           01528         RETURN  
                      01529 
                      01530 ; ; Starting pCode block
                      01531 S_main__ServoWrite      code
000000                01532 _ServoWrite:
                      01533 ;       .line   240; /home/valentin/.icaro/firmware/tmp/servos.c        void ServoWrite(uchar servo, uch
                            ar value)
000000 CFD9 FFE5      01534         MOVFF   FSR2L, POSTDEC1
000004 CFE1 FFD9      01535         MOVFF   FSR1L, FSR2L
000008 C??? F???      01536         MOVFF   r0x00, POSTDEC1
00000C C??? F???      01537         MOVFF   r0x01, POSTDEC1
000010 C??? F???      01538         MOVFF   r0x02, POSTDEC1
000014 0E02           01539         MOVLW   0x02
000016 CFDB F000      01540         MOVFF   PLUSW2, r0x00
00001A 0E03           01541         MOVLW   0x03
00001C CFDB F000      01542         MOVFF   PLUSW2, r0x01
                      01543 ;       .line   242; /home/valentin/.icaro/firmware/tmp/servos.c        if(servo>=18)        // test if 
                            numservo is valid
000020 0E12           01544         MOVLW   0x12
                      01545 ; #     SUBWF   r0x00, W
                      01546 ; #     BTFSS   STATUS, 0
                      01547 ; #     GOTO    _00464_DS_
                      01548 ; #     GOTO    _00469_DS_
                      01549 ; #     MOVLW   0x01
                      01550 ;       .line   243; /home/valentin/.icaro/firmware/tmp/servos.c        return;
000022 5C??           01551         SUBWF   r0x00, W
                      01552 ;       .line   245; /home/valentin/.icaro/firmware/tmp/servos.c        if(value<SERVOMIN)  //  1 = 1000
                             useg pulse
000024 E2??           01553         BC      _00469_DS_
000026 0E01           01554         MOVLW   0x01
000028 5C??           01555         SUBWF   r0x01, W
00002A E2??           01556         BC      _00466_DS_
                      01557 ;       .line   246; /home/valentin/.icaro/firmware/tmp/servos.c        value=SERVOMIN;
00002C 0E01           01558         MOVLW   0x01
00002E 6E??           01559         MOVWF   r0x01
000030                01560 _00466_DS_:
                      01561 ;       .line   247; /home/valentin/.icaro/firmware/tmp/servos.c        if(value>SERVOMAX) // 250 = 2000
                             useg pulse
000030 0EFB           01562         MOVLW   0xfb
000032 5C??           01563         SUBWF   r0x01, W
000034 E3??           01564         BNC     _00468_DS_
                      01565 ;       .line   248; /home/valentin/.icaro/firmware/tmp/servos.c        value=SERVOMAX;
000036 0EFA           01566         MOVLW   0xfa
000038 6E??           01567         MOVWF   r0x01
00003A                01568 _00468_DS_:
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 32


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01569 ;       .line   249; /home/valentin/.icaro/firmware/tmp/servos.c        servovalues[servo]=value;
00003A 6A??           01570         CLRF    r0x02
00003C 0E??           01571         MOVLW   LOW(_servovalues)
00003E 26??           01572         ADDWF   r0x00, F
000040 0E??           01573         MOVLW   HIGH(_servovalues)
000042 22??           01574         ADDWFC  r0x02, F
000044 C??? F???      01575         MOVFF   r0x00, FSR0L
000048 C??? F???      01576         MOVFF   r0x02, FSR0H
00004C C??? F???      01577         MOVFF   r0x01, INDF0
                      01578 ;       .line   251; /home/valentin/.icaro/firmware/tmp/servos.c        needreordering=1;  // This indic
                            ates servo timings must be reordered.
000050 0E01           01579         MOVLW   0x01
000052 ????           01580         BANKSEL _needreordering
000054 6F??           01581         MOVWF   _needreordering, B
000056                01582 _00469_DS_:
000056 CFE4 F000      01583         MOVFF   PREINC1, r0x02
00005A CFE4 F000      01584         MOVFF   PREINC1, r0x01
00005E CFE4 F000      01585         MOVFF   PREINC1, r0x00
000062 CFE4 FFD9      01586         MOVFF   PREINC1, FSR2L
000066 0012           01587         RETURN  
                      01588 
                      01589 ; ; Starting pCode block
                      01590 S_main__ServoDetach     code
000000                01591 _ServoDetach:
                      01592 ;       .line   226; /home/valentin/.icaro/firmware/tmp/servos.c        void ServoDetach(uchar pin)
000000 CFD9 FFE5      01593         MOVFF   FSR2L, POSTDEC1
000004 CFE1 FFD9      01594         MOVFF   FSR1L, FSR2L
000008 C??? F???      01595         MOVFF   r0x00, POSTDEC1
00000C C??? F???      01596         MOVFF   r0x01, POSTDEC1
000010 C??? F???      01597         MOVFF   r0x02, POSTDEC1
000014 C??? F???      01598         MOVFF   r0x03, POSTDEC1
000018 0E02           01599         MOVLW   0x02
00001A CFDB F000      01600         MOVFF   PLUSW2, r0x00
                      01601 ;       .line   228; /home/valentin/.icaro/firmware/tmp/servos.c        if(pin>=18) return;
00001E 0E12           01602         MOVLW   0x12
                      01603 ; #     SUBWF   r0x00, W
                      01604 ; #     BTFSS   STATUS, 0
                      01605 ; #     GOTO    _00437_DS_
                      01606 ; #     GOTO    _00444_DS_
                      01607 ; #     MOVLW   0x08
                      01608 ;       .line   230; /home/valentin/.icaro/firmware/tmp/servos.c        if(pin<8){
000020 5C??           01609         SUBWF   r0x00, W
000022 B0D8           01610         BTFSC   STATUS, 0
000024 D???           01611         BRA     _00444_DS_
000026 0E08           01612         MOVLW   0x08
000028 5C??           01613         SUBWF   r0x00, W
00002A E2??           01614         BC      _00442_DS_
                      01615 ;       .line   231; /home/valentin/.icaro/firmware/tmp/servos.c        activatedservos[MaskPort_B] = ac
                            tivatedservos[MaskPort_B] ^ servomasks[pin];
00002C 0E??           01616         MOVLW   LOW(_servomasks)
00002E 24??           01617         ADDWF   r0x00, W
000030 6E??           01618         MOVWF   r0x01
000032 6A??           01619         CLRF    r0x02
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 33


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000034 0E??           01620         MOVLW   HIGH(_servomasks)
000036 22??           01621         ADDWFC  r0x02, F
000038 6A??           01622         CLRF    r0x03
00003A 0E??           01623         MOVLW   UPPER(_servomasks)
00003C 22??           01624         ADDWFC  r0x03, F
00003E C??? F???      01625         MOVFF   r0x01, TBLPTRL
000042 C??? F???      01626         MOVFF   r0x02, TBLPTRH
000046 C??? F???      01627         MOVFF   r0x03, TBLPTRU
00004A 0009           01628         TBLRD*+ 
00004C CFF5 F000      01629         MOVFF   TABLAT, r0x01
000050 ????           01630         BANKSEL _activatedservos
000052 51??           01631         MOVF    _activatedservos, W, B
000054 1A??           01632         XORWF   r0x01, F
000056 50??           01633         MOVF    r0x01, W
                      01634 ; removed redundant BANKSEL
000058 6F??           01635         MOVWF   _activatedservos, B
00005A D???           01636         BRA     _00444_DS_
00005C                01637 _00442_DS_:
                      01638 ;       .line   232; /home/valentin/.icaro/firmware/tmp/servos.c        } else if (pin>12) {
00005C 0E0D           01639         MOVLW   0x0d
00005E 5C??           01640         SUBWF   r0x00, W
000060 E3??           01641         BNC     _00439_DS_
                      01642 ;       .line   233; /home/valentin/.icaro/firmware/tmp/servos.c        activatedservos[MaskPort_A] = ac
                            tivatedservos[MaskPort_A] ^ servomasks[pin];
000062 0E??           01643         MOVLW   LOW(_servomasks)
000064 24??           01644         ADDWF   r0x00, W
000066 6E??           01645         MOVWF   r0x01
000068 6A??           01646         CLRF    r0x02
00006A 0E??           01647         MOVLW   HIGH(_servomasks)
00006C 22??           01648         ADDWFC  r0x02, F
00006E 6A??           01649         CLRF    r0x03
000070 0E??           01650         MOVLW   UPPER(_servomasks)
000072 22??           01651         ADDWFC  r0x03, F
000074 C??? F???      01652         MOVFF   r0x01, TBLPTRL
000078 C??? F???      01653         MOVFF   r0x02, TBLPTRH
00007C C??? F???      01654         MOVFF   r0x03, TBLPTRU
000080 0009           01655         TBLRD*+ 
000082 CFF5 F000      01656         MOVFF   TABLAT, r0x01
000086 ????           01657         BANKSEL (_activatedservos + 2)
000088 51??           01658         MOVF    (_activatedservos + 2), W, B
00008A 1A??           01659         XORWF   r0x01, F
00008C 50??           01660         MOVF    r0x01, W
                      01661 ; removed redundant BANKSEL
00008E 6F??           01662         MOVWF   (_activatedservos + 2), B
000090 D???           01663         BRA     _00444_DS_
000092                01664 _00439_DS_:
                      01665 ;       .line   235; /home/valentin/.icaro/firmware/tmp/servos.c        activatedservos[MaskPort_C] = ac
                            tivatedservos[MaskPort_C] ^ servomasks[pin];
000092 6A??           01666         CLRF    r0x01
000094 6A??           01667         CLRF    r0x02
000096 0E??           01668         MOVLW   LOW(_servomasks)
000098 26??           01669         ADDWF   r0x00, F
00009A 0E??           01670         MOVLW   HIGH(_servomasks)
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 34


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00009C 22??           01671         ADDWFC  r0x01, F
00009E 0E??           01672         MOVLW   UPPER(_servomasks)
0000A0 22??           01673         ADDWFC  r0x02, F
0000A2 C??? F???      01674         MOVFF   r0x00, TBLPTRL
0000A6 C??? F???      01675         MOVFF   r0x01, TBLPTRH
0000AA C??? F???      01676         MOVFF   r0x02, TBLPTRU
0000AE 0009           01677         TBLRD*+ 
0000B0 CFF5 F000      01678         MOVFF   TABLAT, r0x00
0000B4 ????           01679         BANKSEL (_activatedservos + 1)
0000B6 51??           01680         MOVF    (_activatedservos + 1), W, B
0000B8 1A??           01681         XORWF   r0x00, F
0000BA 50??           01682         MOVF    r0x00, W
                      01683 ; removed redundant BANKSEL
0000BC 6F??           01684         MOVWF   (_activatedservos + 1), B
0000BE                01685 _00444_DS_:
0000BE CFE4 F000      01686         MOVFF   PREINC1, r0x03
0000C2 CFE4 F000      01687         MOVFF   PREINC1, r0x02
0000C6 CFE4 F000      01688         MOVFF   PREINC1, r0x01
0000CA CFE4 F000      01689         MOVFF   PREINC1, r0x00
0000CE CFE4 FFD9      01690         MOVFF   PREINC1, FSR2L
0000D2 0012           01691         RETURN  
                      01692 
                      01693 ; ; Starting pCode block
                      01694 S_main__ServoAttach     code
000000                01695 _ServoAttach:
                      01696 ;       .line   209; /home/valentin/.icaro/firmware/tmp/servos.c        void ServoAttach(uchar pin)
000000 CFD9 FFE5      01697         MOVFF   FSR2L, POSTDEC1
000004 CFE1 FFD9      01698         MOVFF   FSR1L, FSR2L
000008 C??? F???      01699         MOVFF   r0x00, POSTDEC1
00000C C??? F???      01700         MOVFF   r0x01, POSTDEC1
000010 C??? F???      01701         MOVFF   r0x02, POSTDEC1
000014 C??? F???      01702         MOVFF   r0x03, POSTDEC1
000018 C??? F???      01703         MOVFF   r0x04, POSTDEC1
00001C 0E02           01704         MOVLW   0x02
00001E CFDB F000      01705         MOVFF   PLUSW2, r0x00
                      01706 ;       .line   211; /home/valentin/.icaro/firmware/tmp/servos.c        if(pin>=18) return;
000022 0E12           01707         MOVLW   0x12
                      01708 ; #     SUBWF   r0x00, W
                      01709 ; #     BTFSS   STATUS, 0
                      01710 ; #     GOTO    _00409_DS_
                      01711 ; #     GOTO    _00416_DS_
                      01712 ; #     MOVLW   0x08
                      01713 ;       .line   213; /home/valentin/.icaro/firmware/tmp/servos.c        if(pin<8){
000024 5C??           01714         SUBWF   r0x00, W
000026 B0D8           01715         BTFSC   STATUS, 0
000028 D???           01716         BRA     _00416_DS_
00002A 0E08           01717         MOVLW   0x08
00002C 5C??           01718         SUBWF   r0x00, W
00002E E2??           01719         BC      _00414_DS_
                      01720 ;       .line   214; /home/valentin/.icaro/firmware/tmp/servos.c        activatedservos[MaskPort_B] = ac
                            tivatedservos[MaskPort_B] | servomasks[pin];  // list pin as servo driver.
000030 0E??           01721         MOVLW   LOW(_servomasks)
000032 24??           01722         ADDWF   r0x00, W
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 35


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000034 6E??           01723         MOVWF   r0x01
000036 6A??           01724         CLRF    r0x02
000038 0E??           01725         MOVLW   HIGH(_servomasks)
00003A 22??           01726         ADDWFC  r0x02, F
00003C 6A??           01727         CLRF    r0x03
00003E 0E??           01728         MOVLW   UPPER(_servomasks)
000040 22??           01729         ADDWFC  r0x03, F
000042 C??? F???      01730         MOVFF   r0x01, TBLPTRL
000046 C??? F???      01731         MOVFF   r0x02, TBLPTRH
00004A C??? F???      01732         MOVFF   r0x03, TBLPTRU
00004E 0009           01733         TBLRD*+ 
000050 CFF5 F000      01734         MOVFF   TABLAT, r0x04
000054 ????           01735         BANKSEL _activatedservos
000056 51??           01736         MOVF    _activatedservos, W, B
000058 12??           01737         IORWF   r0x04, F
00005A 50??           01738         MOVF    r0x04, W
                      01739 ; removed redundant BANKSEL
00005C 6F??           01740         MOVWF   _activatedservos, B
                      01741 ;       .line   215; /home/valentin/.icaro/firmware/tmp/servos.c        TRISB = TRISB & (255 - servomask
                            s[pin]); // set as output pin
00005E C??? F???      01742         MOVFF   r0x01, TBLPTRL
000062 C??? F???      01743         MOVFF   r0x02, TBLPTRH
000066 C??? F???      01744         MOVFF   r0x03, TBLPTRU
00006A 0009           01745         TBLRD*+ 
00006C CFF5 F000      01746         MOVFF   TABLAT, r0x01
000070 50??           01747         MOVF    r0x01, W
000072 08FF           01748         SUBLW   0xff
                      01749 ; #     MOVWF   r0x01
                      01750 ; #     MOVF    r0x01, W
000074 16??           01751         ANDWF   _TRISB, F
000076 D???           01752         BRA     _00416_DS_
000078                01753 _00414_DS_:
                      01754 ;       .line   216; /home/valentin/.icaro/firmware/tmp/servos.c        } else if (pin>12) {
000078 0E0D           01755         MOVLW   0x0d
00007A 5C??           01756         SUBWF   r0x00, W
00007C E3??           01757         BNC     _00411_DS_
                      01758 ;       .line   217; /home/valentin/.icaro/firmware/tmp/servos.c        activatedservos[MaskPort_A] = ac
                            tivatedservos[MaskPort_A] | servomasks[pin];  // list pin as servo driver.
00007E 0E??           01759         MOVLW   LOW(_servomasks)
000080 24??           01760         ADDWF   r0x00, W
000082 6E??           01761         MOVWF   r0x01
000084 6A??           01762         CLRF    r0x02
000086 0E??           01763         MOVLW   HIGH(_servomasks)
000088 22??           01764         ADDWFC  r0x02, F
00008A 6A??           01765         CLRF    r0x03
00008C 0E??           01766         MOVLW   UPPER(_servomasks)
00008E 22??           01767         ADDWFC  r0x03, F
000090 C??? F???      01768         MOVFF   r0x01, TBLPTRL
000094 C??? F???      01769         MOVFF   r0x02, TBLPTRH
000098 C??? F???      01770         MOVFF   r0x03, TBLPTRU
00009C 0009           01771         TBLRD*+ 
00009E CFF5 F000      01772         MOVFF   TABLAT, r0x04
0000A2 ????           01773         BANKSEL (_activatedservos + 2)
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 36


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0000A4 51??           01774         MOVF    (_activatedservos + 2), W, B
0000A6 12??           01775         IORWF   r0x04, F
0000A8 50??           01776         MOVF    r0x04, W
                      01777 ; removed redundant BANKSEL
0000AA 6F??           01778         MOVWF   (_activatedservos + 2), B
                      01779 ;       .line   218; /home/valentin/.icaro/firmware/tmp/servos.c        TRISA = TRISA & (255 - servomask
                            s[pin]); // set as output pin
0000AC C??? F???      01780         MOVFF   r0x01, TBLPTRL
0000B0 C??? F???      01781         MOVFF   r0x02, TBLPTRH
0000B4 C??? F???      01782         MOVFF   r0x03, TBLPTRU
0000B8 0009           01783         TBLRD*+ 
0000BA CFF5 F000      01784         MOVFF   TABLAT, r0x01
0000BE 50??           01785         MOVF    r0x01, W
0000C0 08FF           01786         SUBLW   0xff
                      01787 ; #     MOVWF   r0x01
                      01788 ; #     MOVF    r0x01, W
0000C2 16??           01789         ANDWF   _TRISA, F
0000C4 D???           01790         BRA     _00416_DS_
0000C6                01791 _00411_DS_:
                      01792 ;       .line   220; /home/valentin/.icaro/firmware/tmp/servos.c        activatedservos[MaskPort_C] = ac
                            tivatedservos[MaskPort_C] | servomasks[pin];  // list pin as servo driver.
0000C6 6A??           01793         CLRF    r0x01
0000C8 6A??           01794         CLRF    r0x02
0000CA 0E??           01795         MOVLW   LOW(_servomasks)
0000CC 26??           01796         ADDWF   r0x00, F
0000CE 0E??           01797         MOVLW   HIGH(_servomasks)
0000D0 22??           01798         ADDWFC  r0x01, F
0000D2 0E??           01799         MOVLW   UPPER(_servomasks)
0000D4 22??           01800         ADDWFC  r0x02, F
0000D6 C??? F???      01801         MOVFF   r0x00, TBLPTRL
0000DA C??? F???      01802         MOVFF   r0x01, TBLPTRH
0000DE C??? F???      01803         MOVFF   r0x02, TBLPTRU
0000E2 0009           01804         TBLRD*+ 
0000E4 CFF5 F000      01805         MOVFF   TABLAT, r0x03
0000E8 ????           01806         BANKSEL (_activatedservos + 1)
0000EA 51??           01807         MOVF    (_activatedservos + 1), W, B
0000EC 12??           01808         IORWF   r0x03, F
0000EE 50??           01809         MOVF    r0x03, W
                      01810 ; removed redundant BANKSEL
0000F0 6F??           01811         MOVWF   (_activatedservos + 1), B
                      01812 ;       .line   221; /home/valentin/.icaro/firmware/tmp/servos.c        TRISC = TRISC & (255 - servomask
                            s[pin]); // set as output pin
0000F2 C??? F???      01813         MOVFF   r0x00, TBLPTRL
0000F6 C??? F???      01814         MOVFF   r0x01, TBLPTRH
0000FA C??? F???      01815         MOVFF   r0x02, TBLPTRU
0000FE 0009           01816         TBLRD*+ 
000100 CFF5 F000      01817         MOVFF   TABLAT, r0x00
000104 50??           01818         MOVF    r0x00, W
000106 08FF           01819         SUBLW   0xff
                      01820 ; #     MOVWF   r0x00
                      01821 ; #     MOVF    r0x00, W
000108 16??           01822         ANDWF   _TRISC, F
00010A                01823 _00416_DS_:
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 37


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00010A CFE4 F000      01824         MOVFF   PREINC1, r0x04
00010E CFE4 F000      01825         MOVFF   PREINC1, r0x03
000112 CFE4 F000      01826         MOVFF   PREINC1, r0x02
000116 CFE4 F000      01827         MOVFF   PREINC1, r0x01
00011A CFE4 F000      01828         MOVFF   PREINC1, r0x00
00011E CFE4 FFD9      01829         MOVFF   PREINC1, FSR2L
000122 0012           01830         RETURN  
                      01831 
                      01832 ; ; Starting pCode block
                      01833 S_main__SortServoTimings        code
000000                01834 _SortServoTimings:
                      01835 ;       .line   125; /home/valentin/.icaro/firmware/tmp/servos.c        static void SortServoTimings()
000000 C??? F???      01836         MOVFF   r0x00, POSTDEC1
000004 C??? F???      01837         MOVFF   r0x01, POSTDEC1
000008 C??? F???      01838         MOVFF   r0x02, POSTDEC1
00000C C??? F???      01839         MOVFF   r0x03, POSTDEC1
000010 C??? F???      01840         MOVFF   r0x04, POSTDEC1
000014 C??? F???      01841         MOVFF   r0x05, POSTDEC1
000018 C??? F???      01842         MOVFF   r0x06, POSTDEC1
00001C C??? F???      01843         MOVFF   r0x07, POSTDEC1
000020 C??? F???      01844         MOVFF   r0x08, POSTDEC1
000024 C??? F???      01845         MOVFF   r0x09, POSTDEC1
000028 C??? F???      01846         MOVFF   r0x0a, POSTDEC1
00002C C??? F???      01847         MOVFF   r0x0b, POSTDEC1
000030 C??? F???      01848         MOVFF   r0x0c, POSTDEC1
000034 ????           01849         BANKSEL _SortServoTimings_mascaratotal_1_27
                      01850 ;       .line   132; /home/valentin/.icaro/firmware/tmp/servos.c        uchar mascaratotal[3]={0x00,0x00
                            ,0x00};
000036 6B??           01851         CLRF    _SortServoTimings_mascaratotal_1_27, B
                      01852 ; removed redundant BANKSEL
000038 6B??           01853         CLRF    (_SortServoTimings_mascaratotal_1_27 + 1), B
                      01854 ; removed redundant BANKSEL
00003A 6B??           01855         CLRF    (_SortServoTimings_mascaratotal_1_27 + 2), B
                      01856 ;       .line   135; /home/valentin/.icaro/firmware/tmp/servos.c        for(t=0;t<18;t++){
00003C 6A??           01857         CLRF    r0x00
00003E                01858 _00325_DS_:
                      01859 ;       .line   136; /home/valentin/.icaro/firmware/tmp/servos.c        timings[timevalue][t]=255;
00003E 0E??           01860         MOVLW   LOW(_timings + 54)
000040 24??           01861         ADDWF   r0x00, W
000042 6E??           01862         MOVWF   r0x01
000044 6A??           01863         CLRF    r0x02
000046 0E??           01864         MOVLW   HIGH(_timings + 54)
000048 22??           01865         ADDWFC  r0x02, F
00004A C??? F???      01866         MOVFF   r0x01, FSR0L
00004E C??? F???      01867         MOVFF   r0x02, FSR0H
000052 68EF           01868         SETF    INDF0
                      01869 ;       .line   138; /home/valentin/.icaro/firmware/tmp/servos.c        timings[MaskPort_C][t]=0x00;
000054 0E??           01870         MOVLW   LOW(_timings + 18)
000056 24??           01871         ADDWF   r0x00, W
000058 6E??           01872         MOVWF   r0x01
00005A 6A??           01873         CLRF    r0x02
00005C 0E??           01874         MOVLW   HIGH(_timings + 18)
00005E 22??           01875         ADDWFC  r0x02, F
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 38


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000060 C??? F???      01876         MOVFF   r0x01, FSR0L
000064 C??? F???      01877         MOVFF   r0x02, FSR0H
000068 6AEF           01878         CLRF    INDF0
                      01879 ;       .line   139; /home/valentin/.icaro/firmware/tmp/servos.c        timings[MaskPort_A][t]=0x00;
00006A 0E??           01880         MOVLW   LOW(_timings + 36)
00006C 24??           01881         ADDWF   r0x00, W
00006E 6E??           01882         MOVWF   r0x01
000070 6A??           01883         CLRF    r0x02
000072 0E??           01884         MOVLW   HIGH(_timings + 36)
000074 22??           01885         ADDWFC  r0x02, F
000076 C??? F???      01886         MOVFF   r0x01, FSR0L
00007A C??? F???      01887         MOVFF   r0x02, FSR0H
00007E 6AEF           01888         CLRF    INDF0
                      01889 ;       .line   135; /home/valentin/.icaro/firmware/tmp/servos.c        for(t=0;t<18;t++){
000080 2A??           01890         INCF    r0x00, F
000082 0E12           01891         MOVLW   0x12
000084 5C??           01892         SUBWF   r0x00, W
000086 E3??           01893         BNC     _00325_DS_
                      01894 ;       .line   142; /home/valentin/.icaro/firmware/tmp/servos.c        totalservos=0;
000088 6A??           01895         CLRF    r0x00
                      01896 ;       .line   144; /home/valentin/.icaro/firmware/tmp/servos.c        while(totalservos<18) {
00008A 6A??           01897         CLRF    r0x01
00008C                01898 _00322_DS_:
00008C 0E12           01899         MOVLW   0x12
00008E 5C??           01900         SUBWF   r0x00, W
000090 B0D8           01901         BTFSC   STATUS, 0
000092 D???           01902         BRA     _00324_DS_
                      01903 ;       .line   145; /home/valentin/.icaro/firmware/tmp/servos.c        numservos=1;
000094 0E01           01904         MOVLW   0x01
000096 6E??           01905         MOVWF   r0x02
                      01906 ;       .line   146; /home/valentin/.icaro/firmware/tmp/servos.c        for(s=0;s<18;s++) { 
000098 6A??           01907         CLRF    r0x03
00009A                01908 _00327_DS_:
                      01909 ;       .line   148; /home/valentin/.icaro/firmware/tmp/servos.c        if (s<8){
00009A 0E08           01910         MOVLW   0x08
00009C 5C??           01911         SUBWF   r0x03, W
00009E B0D8           01912         BTFSC   STATUS, 0
0000A0 D???           01913         BRA     _00319_DS_
                      01914 ;       .line   149; /home/valentin/.icaro/firmware/tmp/servos.c        if (servomasks[s] & mascaratotal
                            [MaskPort_B] & activatedservos[MaskPort_B]){
0000A2 0E??           01915         MOVLW   LOW(_servomasks)
0000A4 24??           01916         ADDWF   r0x03, W
0000A6 6E??           01917         MOVWF   r0x04
0000A8 6A??           01918         CLRF    r0x05
0000AA 0E??           01919         MOVLW   HIGH(_servomasks)
0000AC 22??           01920         ADDWFC  r0x05, F
0000AE 6A??           01921         CLRF    r0x06
0000B0 0E??           01922         MOVLW   UPPER(_servomasks)
0000B2 22??           01923         ADDWFC  r0x06, F
0000B4 C??? F???      01924         MOVFF   r0x04, TBLPTRL
0000B8 C??? F???      01925         MOVFF   r0x05, TBLPTRH
0000BC C??? F???      01926         MOVFF   r0x06, TBLPTRU
0000C0 0009           01927         TBLRD*+ 
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 39


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0000C2 CFF5 F000      01928         MOVFF   TABLAT, r0x04
0000C6 ????           01929         BANKSEL _SortServoTimings_mascaratotal_1_27
0000C8 51??           01930         MOVF    _SortServoTimings_mascaratotal_1_27, W, B
0000CA 16??           01931         ANDWF   r0x04, F
0000CC ????           01932         BANKSEL _activatedservos
0000CE 51??           01933         MOVF    _activatedservos, W, B
0000D0 16??           01934         ANDWF   r0x04, F
0000D2 50??           01935         MOVF    r0x04, W
0000D4 A4D8           01936         BTFSS   STATUS, 2
0000D6 D???           01937         BRA     _00328_DS_
                      01938 ;       .line   151; /home/valentin/.icaro/firmware/tmp/servos.c        else if (servovalues[s] < timing
                            s[timevalue][t]){
0000D8 0E??           01939         MOVLW   LOW(_servovalues)
0000DA 24??           01940         ADDWF   r0x03, W
0000DC 6E??           01941         MOVWF   r0x04
0000DE 6A??           01942         CLRF    r0x05
0000E0 0E??           01943         MOVLW   HIGH(_servovalues)
0000E2 22??           01944         ADDWFC  r0x05, F
0000E4 C??? F???      01945         MOVFF   r0x04, FSR0L
0000E8 C??? F???      01946         MOVFF   r0x05, FSR0H
0000EC CFEF F000      01947         MOVFF   INDF0, r0x04
0000F0 0E??           01948         MOVLW   LOW(_timings + 54)
0000F2 24??           01949         ADDWF   r0x01, W
0000F4 6E??           01950         MOVWF   r0x05
0000F6 6A??           01951         CLRF    r0x06
0000F8 0E??           01952         MOVLW   HIGH(_timings + 54)
0000FA 22??           01953         ADDWFC  r0x06, F
0000FC C??? F???      01954         MOVFF   r0x05, FSR0L
000100 C??? F???      01955         MOVFF   r0x06, FSR0H
000104 CFEF F000      01956         MOVFF   INDF0, r0x07
000108 50??           01957         MOVF    r0x07, W
00010A 5C??           01958         SUBWF   r0x04, W
00010C E2??           01959         BC      _00294_DS_
                      01960 ;       .line   152; /home/valentin/.icaro/firmware/tmp/servos.c        timings[timevalue][t]=servovalue
                            s[s];
00010E C??? F???      01961         MOVFF   r0x05, FSR0L
000112 C??? F???      01962         MOVFF   r0x06, FSR0H
000116 C??? F???      01963         MOVFF   r0x04, INDF0
                      01964 ;       .line   154; /home/valentin/.icaro/firmware/tmp/servos.c        timings[MaskPort_C][t]=0x00;
00011A 0E??           01965         MOVLW   LOW(_timings + 18)
00011C 24??           01966         ADDWF   r0x01, W
00011E 6E??           01967         MOVWF   r0x07
000120 6A??           01968         CLRF    r0x08
000122 0E??           01969         MOVLW   HIGH(_timings + 18)
000124 22??           01970         ADDWFC  r0x08, F
000126 C??? F???      01971         MOVFF   r0x07, FSR0L
00012A C??? F???      01972         MOVFF   r0x08, FSR0H
00012E 6AEF           01973         CLRF    INDF0
                      01974 ;       .line   155; /home/valentin/.icaro/firmware/tmp/servos.c        timings[MaskPort_A][t]=0x00;
000130 0E??           01975         MOVLW   LOW(_timings + 36)
000132 24??           01976         ADDWF   r0x01, W
000134 6E??           01977         MOVWF   r0x07
000136 6A??           01978         CLRF    r0x08
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 40


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000138 0E??           01979         MOVLW   HIGH(_timings + 36)
00013A 22??           01980         ADDWFC  r0x08, F
00013C C??? F???      01981         MOVFF   r0x07, FSR0L
000140 C??? F???      01982         MOVFF   r0x08, FSR0H
000144 6AEF           01983         CLRF    INDF0
                      01984 ;       .line   156; /home/valentin/.icaro/firmware/tmp/servos.c        numservos=1;
000146 0E01           01985         MOVLW   0x01
000148 6E??           01986         MOVWF   r0x02
00014A D???           01987         BRA     _00328_DS_
00014C                01988 _00294_DS_:
                      01989 ;       .line   158; /home/valentin/.icaro/firmware/tmp/servos.c        else if (servovalues[s] == timin
                            gs[timevalue][t]){
00014C C??? F???      01990         MOVFF   r0x05, FSR0L
000150 C??? F???      01991         MOVFF   r0x06, FSR0H
000154 CFEF F000      01992         MOVFF   INDF0, r0x05
000158 50??           01993         MOVF    r0x04, W
00015A 18??           01994         XORWF   r0x05, W
00015C E0??           01995         BZ      _00391_DS_
00015E D???           01996         BRA     _00328_DS_
000160                01997 _00391_DS_:
                      01998 ;       .line   160; /home/valentin/.icaro/firmware/tmp/servos.c        numservos++;
000160 2A??           01999         INCF    r0x02, F
000162 D???           02000         BRA     _00328_DS_
000164                02001 _00319_DS_:
                      02002 ;       .line   164; /home/valentin/.icaro/firmware/tmp/servos.c        else if (s>12){
000164 0E0D           02003         MOVLW   0x0d
000166 5C??           02004         SUBWF   r0x03, W
000168 A0D8           02005         BTFSS   STATUS, 0
00016A D???           02006         BRA     _00316_DS_
                      02007 ;       .line   165; /home/valentin/.icaro/firmware/tmp/servos.c        if (servomasks[s] & mascaratotal
                            [MaskPort_A] & activatedservos[MaskPort_A]){
00016C 0E??           02008         MOVLW   LOW(_servomasks)
00016E 24??           02009         ADDWF   r0x03, W
000170 6E??           02010         MOVWF   r0x04
000172 6A??           02011         CLRF    r0x05
000174 0E??           02012         MOVLW   HIGH(_servomasks)
000176 22??           02013         ADDWFC  r0x05, F
000178 6A??           02014         CLRF    r0x06
00017A 0E??           02015         MOVLW   UPPER(_servomasks)
00017C 22??           02016         ADDWFC  r0x06, F
00017E C??? F???      02017         MOVFF   r0x04, TBLPTRL
000182 C??? F???      02018         MOVFF   r0x05, TBLPTRH
000186 C??? F???      02019         MOVFF   r0x06, TBLPTRU
00018A 0009           02020         TBLRD*+ 
00018C CFF5 F000      02021         MOVFF   TABLAT, r0x07
000190 ????           02022         BANKSEL (_SortServoTimings_mascaratotal_1_27 + 2)
000192 51??           02023         MOVF    (_SortServoTimings_mascaratotal_1_27 + 2), W, B
000194 14??           02024         ANDWF   r0x07, W
000196 6E??           02025         MOVWF   r0x08
000198 ????           02026         BANKSEL (_activatedservos + 2)
00019A 51??           02027         MOVF    (_activatedservos + 2), W, B
00019C 16??           02028         ANDWF   r0x08, F
00019E 50??           02029         MOVF    r0x08, W
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 41


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0001A0 A4D8           02030         BTFSS   STATUS, 2
0001A2 D???           02031         BRA     _00328_DS_
                      02032 ;       .line   167; /home/valentin/.icaro/firmware/tmp/servos.c        else if (servovalues[s] < timing
                            s[timevalue][t]){
0001A4 0E??           02033         MOVLW   LOW(_servovalues)
0001A6 24??           02034         ADDWF   r0x03, W
0001A8 6E??           02035         MOVWF   r0x08
0001AA 6A??           02036         CLRF    r0x09
0001AC 0E??           02037         MOVLW   HIGH(_servovalues)
0001AE 22??           02038         ADDWFC  r0x09, F
0001B0 C??? F???      02039         MOVFF   r0x08, FSR0L
0001B4 C??? F???      02040         MOVFF   r0x09, FSR0H
0001B8 CFEF F000      02041         MOVFF   INDF0, r0x08
0001BC 0E??           02042         MOVLW   LOW(_timings + 54)
0001BE 24??           02043         ADDWF   r0x01, W
0001C0 6E??           02044         MOVWF   r0x09
0001C2 6A??           02045         CLRF    r0x0a
0001C4 0E??           02046         MOVLW   HIGH(_timings + 54)
0001C6 22??           02047         ADDWFC  r0x0a, F
0001C8 C??? F???      02048         MOVFF   r0x09, FSR0L
0001CC C??? F???      02049         MOVFF   r0x0a, FSR0H
0001D0 CFEF F000      02050         MOVFF   INDF0, r0x0b
0001D4 50??           02051         MOVF    r0x0b, W
0001D6 5C??           02052         SUBWF   r0x08, W
0001D8 E2??           02053         BC      _00302_DS_
                      02054 ;       .line   168; /home/valentin/.icaro/firmware/tmp/servos.c        timings[timevalue][t]=servovalue
                            s[s];
0001DA C??? F???      02055         MOVFF   r0x09, FSR0L
0001DE C??? F???      02056         MOVFF   r0x0a, FSR0H
0001E2 C??? F???      02057         MOVFF   r0x08, INDF0
                      02058 ;       .line   170; /home/valentin/.icaro/firmware/tmp/servos.c        timings[MaskPort_C][t]=0x00;
0001E6 0E??           02059         MOVLW   LOW(_timings + 18)
0001E8 24??           02060         ADDWF   r0x01, W
0001EA 6E??           02061         MOVWF   r0x0b
0001EC 6A??           02062         CLRF    r0x0c
0001EE 0E??           02063         MOVLW   HIGH(_timings + 18)
0001F0 22??           02064         ADDWFC  r0x0c, F
0001F2 C??? F???      02065         MOVFF   r0x0b, FSR0L
0001F6 C??? F???      02066         MOVFF   r0x0c, FSR0H
0001FA 6AEF           02067         CLRF    INDF0
                      02068 ;       .line   171; /home/valentin/.icaro/firmware/tmp/servos.c        timings[MaskPort_A][t]=servomask
                            s[s];
0001FC 0E??           02069         MOVLW   LOW(_timings + 36)
0001FE 24??           02070         ADDWF   r0x01, W
000200 6E??           02071         MOVWF   r0x0b
000202 6A??           02072         CLRF    r0x0c
000204 0E??           02073         MOVLW   HIGH(_timings + 36)
000206 22??           02074         ADDWFC  r0x0c, F
000208 C??? F???      02075         MOVFF   r0x04, TBLPTRL
00020C C??? F???      02076         MOVFF   r0x05, TBLPTRH
000210 C??? F???      02077         MOVFF   r0x06, TBLPTRU
000214 0009           02078         TBLRD*+ 
000216 CFF5 F000      02079         MOVFF   TABLAT, r0x04
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 42


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00021A C??? F???      02080         MOVFF   r0x0b, FSR0L
00021E C??? F???      02081         MOVFF   r0x0c, FSR0H
000222 C??? F???      02082         MOVFF   r0x04, INDF0
                      02083 ;       .line   172; /home/valentin/.icaro/firmware/tmp/servos.c        numservos=1;
000226 0E01           02084         MOVLW   0x01
000228 6E??           02085         MOVWF   r0x02
00022A D???           02086         BRA     _00328_DS_
00022C                02087 _00302_DS_:
                      02088 ;       .line   174; /home/valentin/.icaro/firmware/tmp/servos.c        else if (servovalues[s] == timin
                            gs[timevalue][t]){
00022C C??? F???      02089         MOVFF   r0x09, FSR0L
000230 C??? F???      02090         MOVFF   r0x0a, FSR0H
000234 CFEF F000      02091         MOVFF   INDF0, r0x09
000238 50??           02092         MOVF    r0x08, W
00023A 18??           02093         XORWF   r0x09, W
00023C E0??           02094         BZ      _00396_DS_
00023E D???           02095         BRA     _00328_DS_
000240                02096 _00396_DS_:
                      02097 ;       .line   175; /home/valentin/.icaro/firmware/tmp/servos.c        timings[MaskPort_A][t] |= servom
                            asks[s];
000240 0E??           02098         MOVLW   LOW(_timings + 36)
000242 24??           02099         ADDWF   r0x01, W
000244 6E??           02100         MOVWF   r0x04
000246 6A??           02101         CLRF    r0x05
000248 0E??           02102         MOVLW   HIGH(_timings + 36)
00024A 22??           02103         ADDWFC  r0x05, F
00024C C??? F???      02104         MOVFF   r0x04, FSR0L
000250 C??? F???      02105         MOVFF   r0x05, FSR0H
000254 CFEF F000      02106         MOVFF   INDF0, r0x06
000258 50??           02107         MOVF    r0x06, W
00025A 12??           02108         IORWF   r0x07, F
00025C C??? F???      02109         MOVFF   r0x04, FSR0L
000260 C??? F???      02110         MOVFF   r0x05, FSR0H
000264 C??? F???      02111         MOVFF   r0x07, INDF0
                      02112 ;       .line   176; /home/valentin/.icaro/firmware/tmp/servos.c        numservos++;
000268 2A??           02113         INCF    r0x02, F
00026A D???           02114         BRA     _00328_DS_
00026C                02115 _00316_DS_:
                      02116 ;       .line   181; /home/valentin/.icaro/firmware/tmp/servos.c        if (servomasks[s] & mascaratotal
                            [MaskPort_C] & activatedservos[MaskPort_C]){ 
00026C 0E??           02117         MOVLW   LOW(_servomasks)
00026E 24??           02118         ADDWF   r0x03, W
000270 6E??           02119         MOVWF   r0x04
000272 6A??           02120         CLRF    r0x05
000274 0E??           02121         MOVLW   HIGH(_servomasks)
000276 22??           02122         ADDWFC  r0x05, F
000278 6A??           02123         CLRF    r0x06
00027A 0E??           02124         MOVLW   UPPER(_servomasks)
00027C 22??           02125         ADDWFC  r0x06, F
00027E C??? F???      02126         MOVFF   r0x04, TBLPTRL
000282 C??? F???      02127         MOVFF   r0x05, TBLPTRH
000286 C??? F???      02128         MOVFF   r0x06, TBLPTRU
00028A 0009           02129         TBLRD*+ 
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 43


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00028C CFF5 F000      02130         MOVFF   TABLAT, r0x07
000290 ????           02131         BANKSEL (_SortServoTimings_mascaratotal_1_27 + 1)
000292 51??           02132         MOVF    (_SortServoTimings_mascaratotal_1_27 + 1), W, B
000294 14??           02133         ANDWF   r0x07, W
000296 6E??           02134         MOVWF   r0x08
000298 ????           02135         BANKSEL (_activatedservos + 1)
00029A 51??           02136         MOVF    (_activatedservos + 1), W, B
00029C 16??           02137         ANDWF   r0x08, F
00029E 50??           02138         MOVF    r0x08, W
0002A0 A4D8           02139         BTFSS   STATUS, 2
0002A2 D???           02140         BRA     _00328_DS_
                      02141 ;       .line   183; /home/valentin/.icaro/firmware/tmp/servos.c        else if (servovalues[s] < timing
                            s[timevalue][t]){
0002A4 0E??           02142         MOVLW   LOW(_servovalues)
0002A6 24??           02143         ADDWF   r0x03, W
0002A8 6E??           02144         MOVWF   r0x08
0002AA 6A??           02145         CLRF    r0x09
0002AC 0E??           02146         MOVLW   HIGH(_servovalues)
0002AE 22??           02147         ADDWFC  r0x09, F
0002B0 C??? F???      02148         MOVFF   r0x08, FSR0L
0002B4 C??? F???      02149         MOVFF   r0x09, FSR0H
0002B8 CFEF F000      02150         MOVFF   INDF0, r0x08
0002BC 0E??           02151         MOVLW   LOW(_timings + 54)
0002BE 24??           02152         ADDWF   r0x01, W
0002C0 6E??           02153         MOVWF   r0x09
0002C2 6A??           02154         CLRF    r0x0a
0002C4 0E??           02155         MOVLW   HIGH(_timings + 54)
0002C6 22??           02156         ADDWFC  r0x0a, F
0002C8 C??? F???      02157         MOVFF   r0x09, FSR0L
0002CC C??? F???      02158         MOVFF   r0x0a, FSR0H
0002D0 CFEF F000      02159         MOVFF   INDF0, r0x0b
0002D4 50??           02160         MOVF    r0x0b, W
0002D6 5C??           02161         SUBWF   r0x08, W
0002D8 E2??           02162         BC      _00310_DS_
                      02163 ;       .line   184; /home/valentin/.icaro/firmware/tmp/servos.c        timings[timevalue][t]=servovalue
                            s[s];
0002DA C??? F???      02164         MOVFF   r0x09, FSR0L
0002DE C??? F???      02165         MOVFF   r0x0a, FSR0H
0002E2 C??? F???      02166         MOVFF   r0x08, INDF0
                      02167 ;       .line   186; /home/valentin/.icaro/firmware/tmp/servos.c        timings[MaskPort_C][t]=servomask
                            s[s];
0002E6 0E??           02168         MOVLW   LOW(_timings + 18)
0002E8 24??           02169         ADDWF   r0x01, W
0002EA 6E??           02170         MOVWF   r0x0b
0002EC 6A??           02171         CLRF    r0x0c
0002EE 0E??           02172         MOVLW   HIGH(_timings + 18)
0002F0 22??           02173         ADDWFC  r0x0c, F
0002F2 C??? F???      02174         MOVFF   r0x04, TBLPTRL
0002F6 C??? F???      02175         MOVFF   r0x05, TBLPTRH
0002FA C??? F???      02176         MOVFF   r0x06, TBLPTRU
0002FE 0009           02177         TBLRD*+ 
000300 CFF5 F000      02178         MOVFF   TABLAT, r0x04
000304 C??? F???      02179         MOVFF   r0x0b, FSR0L
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 44


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000308 C??? F???      02180         MOVFF   r0x0c, FSR0H
00030C C??? F???      02181         MOVFF   r0x04, INDF0
                      02182 ;       .line   187; /home/valentin/.icaro/firmware/tmp/servos.c        timings[MaskPort_A][t]=0x00;
000310 0E??           02183         MOVLW   LOW(_timings + 36)
000312 24??           02184         ADDWF   r0x01, W
000314 6E??           02185         MOVWF   r0x04
000316 6A??           02186         CLRF    r0x05
000318 0E??           02187         MOVLW   HIGH(_timings + 36)
00031A 22??           02188         ADDWFC  r0x05, F
00031C C??? F???      02189         MOVFF   r0x04, FSR0L
000320 C??? F???      02190         MOVFF   r0x05, FSR0H
000324 6AEF           02191         CLRF    INDF0
                      02192 ;       .line   188; /home/valentin/.icaro/firmware/tmp/servos.c        numservos=1;
000326 0E01           02193         MOVLW   0x01
000328 6E??           02194         MOVWF   r0x02
00032A D???           02195         BRA     _00328_DS_
00032C                02196 _00310_DS_:
                      02197 ;       .line   190; /home/valentin/.icaro/firmware/tmp/servos.c        else if (servovalues[s] == timin
                            gs [timevalue][t]){
00032C C??? F???      02198         MOVFF   r0x09, FSR0L
000330 C??? F???      02199         MOVFF   r0x0a, FSR0H
000334 CFEF F000      02200         MOVFF   INDF0, r0x09
000338 50??           02201         MOVF    r0x08, W
00033A 18??           02202         XORWF   r0x09, W
00033C E1??           02203         BNZ     _00328_DS_
                      02204 ;       .line   191; /home/valentin/.icaro/firmware/tmp/servos.c        timings[MaskPort_C][t] |= servom
                            asks[s];
00033E 0E??           02205         MOVLW   LOW(_timings + 18)
000340 24??           02206         ADDWF   r0x01, W
000342 6E??           02207         MOVWF   r0x04
000344 6A??           02208         CLRF    r0x05
000346 0E??           02209         MOVLW   HIGH(_timings + 18)
000348 22??           02210         ADDWFC  r0x05, F
00034A C??? F???      02211         MOVFF   r0x04, FSR0L
00034E C??? F???      02212         MOVFF   r0x05, FSR0H
000352 CFEF F000      02213         MOVFF   INDF0, r0x06
000356 50??           02214         MOVF    r0x06, W
000358 12??           02215         IORWF   r0x07, F
00035A C??? F???      02216         MOVFF   r0x04, FSR0L
00035E C??? F???      02217         MOVFF   r0x05, FSR0H
000362 C??? F???      02218         MOVFF   r0x07, INDF0
                      02219 ;       .line   192; /home/valentin/.icaro/firmware/tmp/servos.c        numservos++;
000366 2A??           02220         INCF    r0x02, F
000368                02221 _00328_DS_:
                      02222 ;       .line   146; /home/valentin/.icaro/firmware/tmp/servos.c        for(s=0;s<18;s++) { 
000368 2A??           02223         INCF    r0x03, F
00036A 0E12           02224         MOVLW   0x12
00036C 5C??           02225         SUBWF   r0x03, W
00036E A0D8           02226         BTFSS   STATUS, 0
000370 D???           02227         BRA     _00327_DS_
                      02228 ;       .line   198; /home/valentin/.icaro/firmware/tmp/servos.c        mascaratotal[MaskPort_C] |= timi
                            ngs[MaskPort_C][t];
000372 0E??           02229         MOVLW   LOW(_timings + 18)
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 45


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000374 24??           02230         ADDWF   r0x01, W
000376 6E??           02231         MOVWF   r0x03
000378 6A??           02232         CLRF    r0x04
00037A 0E??           02233         MOVLW   HIGH(_timings + 18)
00037C 22??           02234         ADDWFC  r0x04, F
00037E C??? F???      02235         MOVFF   r0x03, FSR0L
000382 C??? F???      02236         MOVFF   r0x04, FSR0H
000386 CFEF F000      02237         MOVFF   INDF0, r0x03
00038A ????           02238         BANKSEL (_SortServoTimings_mascaratotal_1_27 + 1)
00038C 51??           02239         MOVF    (_SortServoTimings_mascaratotal_1_27 + 1), W, B
00038E 12??           02240         IORWF   r0x03, F
000390 50??           02241         MOVF    r0x03, W
                      02242 ; removed redundant BANKSEL
000392 6F??           02243         MOVWF   (_SortServoTimings_mascaratotal_1_27 + 1), B
                      02244 ;       .line   199; /home/valentin/.icaro/firmware/tmp/servos.c        mascaratotal[MaskPort_A] |= timi
                            ngs[MaskPort_A][t];
000394 0E??           02245         MOVLW   LOW(_timings + 36)
000396 24??           02246         ADDWF   r0x01, W
000398 6E??           02247         MOVWF   r0x03
00039A 6A??           02248         CLRF    r0x04
00039C 0E??           02249         MOVLW   HIGH(_timings + 36)
00039E 22??           02250         ADDWFC  r0x04, F
0003A0 C??? F???      02251         MOVFF   r0x03, FSR0L
0003A4 C??? F???      02252         MOVFF   r0x04, FSR0H
0003A8 CFEF F000      02253         MOVFF   INDF0, r0x03
                      02254 ; removed redundant BANKSEL
0003AC 51??           02255         MOVF    (_SortServoTimings_mascaratotal_1_27 + 2), W, B
0003AE 12??           02256         IORWF   r0x03, F
0003B0 50??           02257         MOVF    r0x03, W
                      02258 ; removed redundant BANKSEL
0003B2 6F??           02259         MOVWF   (_SortServoTimings_mascaratotal_1_27 + 2), B
                      02260 ;       .line   200; /home/valentin/.icaro/firmware/tmp/servos.c        totalservos += numservos;
0003B4 50??           02261         MOVF    r0x02, W
0003B6 26??           02262         ADDWF   r0x00, F
                      02263 ;       .line   201; /home/valentin/.icaro/firmware/tmp/servos.c        t++;
0003B8 2A??           02264         INCF    r0x01, F
0003BA D???           02265         BRA     _00322_DS_
0003BC                02266 _00324_DS_:
0003BC ????           02267         BANKSEL _needreordering
                      02268 ;       .line   204; /home/valentin/.icaro/firmware/tmp/servos.c        needreordering=0;  // This indic
                            ates that servo timings is ordered.     
0003BE 6B??           02269         CLRF    _needreordering, B
0003C0 CFE4 F000      02270         MOVFF   PREINC1, r0x0c
0003C4 CFE4 F000      02271         MOVFF   PREINC1, r0x0b
0003C8 CFE4 F000      02272         MOVFF   PREINC1, r0x0a
0003CC CFE4 F000      02273         MOVFF   PREINC1, r0x09
0003D0 CFE4 F000      02274         MOVFF   PREINC1, r0x08
0003D4 CFE4 F000      02275         MOVFF   PREINC1, r0x07
0003D8 CFE4 F000      02276         MOVFF   PREINC1, r0x06
0003DC CFE4 F000      02277         MOVFF   PREINC1, r0x05
0003E0 CFE4 F000      02278         MOVFF   PREINC1, r0x04
0003E4 CFE4 F000      02279         MOVFF   PREINC1, r0x03
0003E8 CFE4 F000      02280         MOVFF   PREINC1, r0x02
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 46


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0003EC CFE4 F000      02281         MOVFF   PREINC1, r0x01
0003F0 CFE4 F000      02282         MOVFF   PREINC1, r0x00
0003F4 0012           02283         RETURN  
                      02284 
                      02285 ; ; Starting pCode block
                      02286 S_main__ServosPulseUp   code
000000                02287 _ServosPulseUp:
                      02288 ;       .line   120; /home/valentin/.icaro/firmware/tmp/servos.c        PORTC = activatedservos[MaskPort
                            _C] & 0xFF;
000000 C??? F???      02289         MOVFF   (_activatedservos + 1), _PORTC
                      02290 ;       .line   121; /home/valentin/.icaro/firmware/tmp/servos.c        PORTA = activatedservos[MaskPort
                            _A] & 0xFF;     
000004 C??? F???      02291         MOVFF   (_activatedservos + 2), _PORTA
000008 0012           02292         RETURN  
                      02293 
                      02294 ; ; Starting pCode block
                      02295 S_main__ServosPulseDown code
000000                02296 _ServosPulseDown:
                      02297 ;       .line   92; /home/valentin/.icaro/firmware/tmp/servos.c static void ServosPulseDown()
000000 CFD9 FFE5      02298         MOVFF   FSR2L, POSTDEC1
000004 CFE1 FFD9      02299         MOVFF   FSR1L, FSR2L
000008 C??? F???      02300         MOVFF   r0x00, POSTDEC1
00000C C??? F???      02301         MOVFF   r0x01, POSTDEC1
000010 ????           02302         BANKSEL _timingindex
                      02303 ;       .line   94; /home/valentin/.icaro/firmware/tmp/servos.c timingindex = 0;
000012 6B??           02304         CLRF    _timingindex, B
000014 ????           02305         BANKSEL _timedivision
                      02306 ;       .line   96; /home/valentin/.icaro/firmware/tmp/servos.c for(timedivision=0;timedivision < 251;ti
                            medivision++){
000016 6B??           02307         CLRF    _timedivision, B
000018                02308 _00266_DS_:
                      02309 ;       .line   97; /home/valentin/.icaro/firmware/tmp/servos.c if (timings[timevalue][timingindex] == t
                            imedivision){
000018 C??? F???      02310         MOVFF   _timingindex, r0x00
00001C 6A??           02311         CLRF    r0x01
00001E 0E??           02312         MOVLW   LOW(_timings + 54)
000020 26??           02313         ADDWF   r0x00, F
000022 0E??           02314         MOVLW   HIGH(_timings + 54)
000024 22??           02315         ADDWFC  r0x01, F
000026 C??? F???      02316         MOVFF   r0x00, FSR0L
00002A C??? F???      02317         MOVFF   r0x01, FSR0H
00002E CFEF F000      02318         MOVFF   INDF0, r0x00
000032 50??           02319         MOVF    r0x00, W
000034 ????           02320         BANKSEL _timedivision
000036 19??           02321         XORWF   _timedivision, W, B
000038 E1??           02322         BNZ     _00264_DS_
                      02323 ;       .line   99; /home/valentin/.icaro/firmware/tmp/servos.c PORTC = PORTC ^ timings[MaskPort_C][timi
                            ngindex];
00003A C??? F???      02324         MOVFF   _timingindex, r0x00
00003E 6A??           02325         CLRF    r0x01
000040 0E??           02326         MOVLW   LOW(_timings + 18)
000042 26??           02327         ADDWF   r0x00, F
000044 0E??           02328         MOVLW   HIGH(_timings + 18)
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 47


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000046 22??           02329         ADDWFC  r0x01, F
000048 C??? F???      02330         MOVFF   r0x00, FSR0L
00004C C??? F???      02331         MOVFF   r0x01, FSR0H
000050 CFEF F000      02332         MOVFF   INDF0, r0x00
000054 50??           02333         MOVF    r0x00, W
000056 1A??           02334         XORWF   _PORTC, F
                      02335 ;       .line   100; /home/valentin/.icaro/firmware/tmp/servos.c        PORTA = PORTA ^ timings[MaskPort
                            _A][timingindex];
000058 C??? F???      02336         MOVFF   _timingindex, r0x00
00005C 6A??           02337         CLRF    r0x01
00005E 0E??           02338         MOVLW   LOW(_timings + 36)
000060 26??           02339         ADDWF   r0x00, F
000062 0E??           02340         MOVLW   HIGH(_timings + 36)
000064 22??           02341         ADDWFC  r0x01, F
000066 C??? F???      02342         MOVFF   r0x00, FSR0L
00006A C??? F???      02343         MOVFF   r0x01, FSR0H
00006E CFEF F000      02344         MOVFF   INDF0, r0x00
000072 50??           02345         MOVF    r0x00, W
000074 1A??           02346         XORWF   _PORTA, F
000076 ????           02347         BANKSEL _timingindex
                      02348 ;       .line   101; /home/valentin/.icaro/firmware/tmp/servos.c        timingindex++;
000078 2B??           02349         INCF    _timingindex, F, B
00007A                02350 _00264_DS_:
00007A 0E0C           02351         movlw 12
00007C 6E??           02352         movwf _loopvar
00007E                02353 bucle:
00007E 0000           02354         NOP
000080 2E??           02355         decfsz _loopvar,1
000082 EF?? F0??      02356         goto bucle
                      02357         
000086 ????           02358         BANKSEL _timedivision
                      02359 ;       .line   96; /home/valentin/.icaro/firmware/tmp/servos.c for(timedivision=0;timedivision < 251;ti
                            medivision++){
000088 2B??           02360         INCF    _timedivision, F, B
00008A 0EFB           02361         MOVLW   0xfb
                      02362 ; removed redundant BANKSEL
00008C 5D??           02363         SUBWF   _timedivision, W, B
00008E A0D8           02364         BTFSS   STATUS, 0
000090 D???           02365         BRA     _00266_DS_
000092 CFE4 F000      02366         MOVFF   PREINC1, r0x01
000096 CFE4 F000      02367         MOVFF   PREINC1, r0x00
00009A CFE4 FFD9      02368         MOVFF   PREINC1, FSR2L
00009E 0012           02369         RETURN  
                      02370 
                      02371 ; ; Starting pCode block
                      02372 S_main__servos_init     code
000000                02373 _servos_init:
                      02374 ;       .line   71; /home/valentin/.icaro/firmware/tmp/servos.c void servos_init()
000000 C??? F???      02375         MOVFF   r0x00, POSTDEC1
000004 C??? F???      02376         MOVFF   r0x01, POSTDEC1
000008 C??? F???      02377         MOVFF   r0x02, POSTDEC1
                      02378 ;       .line   75; /home/valentin/.icaro/firmware/tmp/servos.c for(a=0;a<18;a++) servovalues[a]=255;
00000C 6A??           02379         CLRF    r0x00
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 48


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00000E                02380 _00247_DS_:
00000E 0E??           02381         MOVLW   LOW(_servovalues)
000010 24??           02382         ADDWF   r0x00, W
000012 6E??           02383         MOVWF   r0x01
000014 6A??           02384         CLRF    r0x02
000016 0E??           02385         MOVLW   HIGH(_servovalues)
000018 22??           02386         ADDWFC  r0x02, F
00001A C??? F???      02387         MOVFF   r0x01, FSR0L
00001E C??? F???      02388         MOVFF   r0x02, FSR0H
000022 68EF           02389         SETF    INDF0
000024 2A??           02390         INCF    r0x00, F
000026 0E12           02391         MOVLW   0x12
000028 5C??           02392         SUBWF   r0x00, W
00002A E3??           02393         BNC     _00247_DS_
                      02394 ;       .line   78; /home/valentin/.icaro/firmware/tmp/servos.c TMR1H=0xFF;
00002C 68??           02395         SETF    _TMR1H
                      02396 ;       .line   79; /home/valentin/.icaro/firmware/tmp/servos.c TMR1L=0x00;
00002E 6A??           02397         CLRF    _TMR1L
                      02398 ;       .line   81; /home/valentin/.icaro/firmware/tmp/servos.c T1CON=0x01;
000030 0E01           02399         MOVLW   0x01
000032 6E??           02400         MOVWF   _T1CON
                      02401 ;       .line   83; /home/valentin/.icaro/firmware/tmp/servos.c PIE1bits.TMR1IE=1;
000034 80??           02402         BSF     _PIE1bits, 0
                      02403 ;       .line   85; /home/valentin/.icaro/firmware/tmp/servos.c INTCONbits.PEIE=1;
000036 8C??           02404         BSF     _INTCONbits, 6
                      02405 ;       .line   87; /home/valentin/.icaro/firmware/tmp/servos.c INTCONbits.GIE=1;
000038 8E??           02406         BSF     _INTCONbits, 7
00003A CFE4 F000      02407         MOVFF   PREINC1, r0x02
00003E CFE4 F000      02408         MOVFF   PREINC1, r0x01
000042 CFE4 F000      02409         MOVFF   PREINC1, r0x00
000046 0012           02410         RETURN  
                      02411 
                      02412 ; ; Starting pCode block
                      02413 S_main__pinmode code
000000                02414 _pinmode:
                      02415 ;       .line   69; /home/valentin/.icaro/firmware/tmp/digitalw.c       void pinmode(int input, int stat
                            e)
000000 CFD9 FFE5      02416         MOVFF   FSR2L, POSTDEC1
000004 CFE1 FFD9      02417         MOVFF   FSR1L, FSR2L
000008 C??? F???      02418         MOVFF   r0x00, POSTDEC1
00000C C??? F???      02419         MOVFF   r0x01, POSTDEC1
000010 C??? F???      02420         MOVFF   r0x02, POSTDEC1
000014 C??? F???      02421         MOVFF   r0x03, POSTDEC1
000018 C??? F???      02422         MOVFF   r0x04, POSTDEC1
00001C C??? F???      02423         MOVFF   r0x05, POSTDEC1
000020 C??? F???      02424         MOVFF   r0x06, POSTDEC1
000024 0E02           02425         MOVLW   0x02
000026 CFDB F000      02426         MOVFF   PLUSW2, r0x00
00002A 0E03           02427         MOVLW   0x03
00002C CFDB F000      02428         MOVFF   PLUSW2, r0x01
000030 0E04           02429         MOVLW   0x04
000032 CFDB F000      02430         MOVFF   PLUSW2, r0x02
000036 0E05           02431         MOVLW   0x05
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 49


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000038 CFDB F000      02432         MOVFF   PLUSW2, r0x03
                      02433 ;       .line   71; /home/valentin/.icaro/firmware/tmp/digitalw.c       switch (port[input])
00003C 0E??           02434         MOVLW   LOW(_port)
00003E 24??           02435         ADDWF   r0x00, W
000040 6E??           02436         MOVWF   r0x04
000042 0E??           02437         MOVLW   HIGH(_port)
000044 20??           02438         ADDWFC  r0x01, W
000046 6E??           02439         MOVWF   r0x05
000048 6A??           02440         CLRF    r0x06
00004A BE??           02441         BTFSC   r0x01, 7
00004C 68??           02442         SETF    r0x06
00004E 0E??           02443         MOVLW   UPPER(_port)
000050 22??           02444         ADDWFC  r0x06, F
000052 C??? F???      02445         MOVFF   r0x04, TBLPTRL
000056 C??? F???      02446         MOVFF   r0x05, TBLPTRH
00005A C??? F???      02447         MOVFF   r0x06, TBLPTRU
00005E 0009           02448         TBLRD*+ 
000060 CFF5 F000      02449         MOVFF   TABLAT, r0x04
000064 0E05           02450         MOVLW   0x05
000066 5C??           02451         SUBWF   r0x04, W
000068 B0D8           02452         BTFSC   STATUS, 0
00006A D???           02453         BRA     _00220_DS_
00006C 6AFA           02454         CLRF    PCLATH
00006E 6AFB           02455         CLRF    PCLATU
000070 34??           02456         RLCF    r0x04, W
000072 36FA           02457         RLCF    PCLATH, F
000074 34E8           02458         RLCF    WREG, W
000076 36FA           02459         RLCF    PCLATH, F
000078 0BFC           02460         ANDLW   0xfc
00007A 0F??           02461         ADDLW   LOW(_00241_DS_)
00007C 6EE5           02462         MOVWF   POSTDEC1
00007E 0E??           02463         MOVLW   HIGH(_00241_DS_)
000080 22FA           02464         ADDWFC  PCLATH, F
000082 0E??           02465         MOVLW   UPPER(_00241_DS_)
000084 22FB           02466         ADDWFC  PCLATU, F
000086 50E4           02467         MOVF    PREINC1, W
000088 6EF9           02468         MOVWF   PCL
00008A                02469 _00241_DS_:
00008A EF?? F0??      02470         GOTO    _00199_DS_
00008E EF?? F0??      02471         GOTO    _00203_DS_
000092 EF?? F0??      02472         GOTO    _00207_DS_
000096 EF?? F0??      02473         GOTO    _00211_DS_
00009A EF?? F0??      02474         GOTO    _00215_DS_
00009E                02475 _00199_DS_:
                      02476 ;       .line   73; /home/valentin/.icaro/firmware/tmp/digitalw.c       case 0: if (state) TRISB=TRISB |
                             mask[input];
00009E 50??           02477         MOVF    r0x02, W
0000A0 10??           02478         IORWF   r0x03, W
0000A2 E0??           02479         BZ      _00201_DS_
0000A4 0E??           02480         MOVLW   LOW(_mask)
0000A6 24??           02481         ADDWF   r0x00, W
0000A8 6E??           02482         MOVWF   r0x04
0000AA 0E??           02483         MOVLW   HIGH(_mask)
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 50


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0000AC 20??           02484         ADDWFC  r0x01, W
0000AE 6E??           02485         MOVWF   r0x05
0000B0 6A??           02486         CLRF    r0x06
0000B2 BE??           02487         BTFSC   r0x01, 7
0000B4 68??           02488         SETF    r0x06
0000B6 0E??           02489         MOVLW   UPPER(_mask)
0000B8 22??           02490         ADDWFC  r0x06, F
0000BA C??? F???      02491         MOVFF   r0x04, TBLPTRL
0000BE C??? F???      02492         MOVFF   r0x05, TBLPTRH
0000C2 C??? F???      02493         MOVFF   r0x06, TBLPTRU
0000C6 0009           02494         TBLRD*+ 
0000C8 CFF5 F000      02495         MOVFF   TABLAT, r0x04
0000CC 50??           02496         MOVF    r0x04, W
0000CE 12??           02497         IORWF   _TRISB, F
0000D0 D???           02498         BRA     _00220_DS_
0000D2                02499 _00201_DS_:
                      02500 ;       .line   74; /home/valentin/.icaro/firmware/tmp/digitalw.c       else TRISB=TRISB & (255-mask[inp
                            ut]);
0000D2 0E??           02501         MOVLW   LOW(_mask)
0000D4 24??           02502         ADDWF   r0x00, W
0000D6 6E??           02503         MOVWF   r0x04
0000D8 0E??           02504         MOVLW   HIGH(_mask)
0000DA 20??           02505         ADDWFC  r0x01, W
0000DC 6E??           02506         MOVWF   r0x05
0000DE 6A??           02507         CLRF    r0x06
0000E0 BE??           02508         BTFSC   r0x01, 7
0000E2 68??           02509         SETF    r0x06
0000E4 0E??           02510         MOVLW   UPPER(_mask)
0000E6 22??           02511         ADDWFC  r0x06, F
0000E8 C??? F???      02512         MOVFF   r0x04, TBLPTRL
0000EC C??? F???      02513         MOVFF   r0x05, TBLPTRH
0000F0 C??? F???      02514         MOVFF   r0x06, TBLPTRU
0000F4 0009           02515         TBLRD*+ 
0000F6 CFF5 F000      02516         MOVFF   TABLAT, r0x04
0000FA 50??           02517         MOVF    r0x04, W
0000FC 08FF           02518         SUBLW   0xff
                      02519 ; #     MOVWF   r0x04
                      02520 ; #     MOVF    r0x04, W
0000FE 16??           02521         ANDWF   _TRISB, F
                      02522 ;       .line   75; /home/valentin/.icaro/firmware/tmp/digitalw.c       break;
000100 D???           02523         BRA     _00220_DS_
000102                02524 _00203_DS_:
                      02525 ;       .line   76; /home/valentin/.icaro/firmware/tmp/digitalw.c       case 1: if (state) TRISC=TRISC |
                             mask[input];
000102 50??           02526         MOVF    r0x02, W
000104 10??           02527         IORWF   r0x03, W
000106 E0??           02528         BZ      _00205_DS_
000108 0E??           02529         MOVLW   LOW(_mask)
00010A 24??           02530         ADDWF   r0x00, W
00010C 6E??           02531         MOVWF   r0x04
00010E 0E??           02532         MOVLW   HIGH(_mask)
000110 20??           02533         ADDWFC  r0x01, W
000112 6E??           02534         MOVWF   r0x05
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 51


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000114 6A??           02535         CLRF    r0x06
000116 BE??           02536         BTFSC   r0x01, 7
000118 68??           02537         SETF    r0x06
00011A 0E??           02538         MOVLW   UPPER(_mask)
00011C 22??           02539         ADDWFC  r0x06, F
00011E C??? F???      02540         MOVFF   r0x04, TBLPTRL
000122 C??? F???      02541         MOVFF   r0x05, TBLPTRH
000126 C??? F???      02542         MOVFF   r0x06, TBLPTRU
00012A 0009           02543         TBLRD*+ 
00012C CFF5 F000      02544         MOVFF   TABLAT, r0x04
000130 50??           02545         MOVF    r0x04, W
000132 12??           02546         IORWF   _TRISC, F
000134 D???           02547         BRA     _00220_DS_
000136                02548 _00205_DS_:
                      02549 ;       .line   77; /home/valentin/.icaro/firmware/tmp/digitalw.c       else TRISC=TRISC & (255-mask[inp
                            ut]);
000136 0E??           02550         MOVLW   LOW(_mask)
000138 24??           02551         ADDWF   r0x00, W
00013A 6E??           02552         MOVWF   r0x04
00013C 0E??           02553         MOVLW   HIGH(_mask)
00013E 20??           02554         ADDWFC  r0x01, W
000140 6E??           02555         MOVWF   r0x05
000142 6A??           02556         CLRF    r0x06
000144 BE??           02557         BTFSC   r0x01, 7
000146 68??           02558         SETF    r0x06
000148 0E??           02559         MOVLW   UPPER(_mask)
00014A 22??           02560         ADDWFC  r0x06, F
00014C C??? F???      02561         MOVFF   r0x04, TBLPTRL
000150 C??? F???      02562         MOVFF   r0x05, TBLPTRH
000154 C??? F???      02563         MOVFF   r0x06, TBLPTRU
000158 0009           02564         TBLRD*+ 
00015A CFF5 F000      02565         MOVFF   TABLAT, r0x04
00015E 50??           02566         MOVF    r0x04, W
000160 08FF           02567         SUBLW   0xff
                      02568 ; #     MOVWF   r0x04
                      02569 ; #     MOVF    r0x04, W
000162 16??           02570         ANDWF   _TRISC, F
                      02571 ;       .line   78; /home/valentin/.icaro/firmware/tmp/digitalw.c       break;
000164 D???           02572         BRA     _00220_DS_
000166                02573 _00207_DS_:
                      02574 ;       .line   79; /home/valentin/.icaro/firmware/tmp/digitalw.c       case 2: if (state) TRISA=TRISA |
                             mask[input];
000166 50??           02575         MOVF    r0x02, W
000168 10??           02576         IORWF   r0x03, W
00016A E0??           02577         BZ      _00209_DS_
00016C 0E??           02578         MOVLW   LOW(_mask)
00016E 24??           02579         ADDWF   r0x00, W
000170 6E??           02580         MOVWF   r0x04
000172 0E??           02581         MOVLW   HIGH(_mask)
000174 20??           02582         ADDWFC  r0x01, W
000176 6E??           02583         MOVWF   r0x05
000178 6A??           02584         CLRF    r0x06
00017A BE??           02585         BTFSC   r0x01, 7
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 52


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00017C 68??           02586         SETF    r0x06
00017E 0E??           02587         MOVLW   UPPER(_mask)
000180 22??           02588         ADDWFC  r0x06, F
000182 C??? F???      02589         MOVFF   r0x04, TBLPTRL
000186 C??? F???      02590         MOVFF   r0x05, TBLPTRH
00018A C??? F???      02591         MOVFF   r0x06, TBLPTRU
00018E 0009           02592         TBLRD*+ 
000190 CFF5 F000      02593         MOVFF   TABLAT, r0x04
000194 50??           02594         MOVF    r0x04, W
000196 12??           02595         IORWF   _TRISA, F
000198 D???           02596         BRA     _00220_DS_
00019A                02597 _00209_DS_:
                      02598 ;       .line   80; /home/valentin/.icaro/firmware/tmp/digitalw.c       else TRISA=TRISA & (255-mask[inp
                            ut]);
00019A 0E??           02599         MOVLW   LOW(_mask)
00019C 24??           02600         ADDWF   r0x00, W
00019E 6E??           02601         MOVWF   r0x04
0001A0 0E??           02602         MOVLW   HIGH(_mask)
0001A2 20??           02603         ADDWFC  r0x01, W
0001A4 6E??           02604         MOVWF   r0x05
0001A6 6A??           02605         CLRF    r0x06
0001A8 BE??           02606         BTFSC   r0x01, 7
0001AA 68??           02607         SETF    r0x06
0001AC 0E??           02608         MOVLW   UPPER(_mask)
0001AE 22??           02609         ADDWFC  r0x06, F
0001B0 C??? F???      02610         MOVFF   r0x04, TBLPTRL
0001B4 C??? F???      02611         MOVFF   r0x05, TBLPTRH
0001B8 C??? F???      02612         MOVFF   r0x06, TBLPTRU
0001BC 0009           02613         TBLRD*+ 
0001BE CFF5 F000      02614         MOVFF   TABLAT, r0x04
0001C2 50??           02615         MOVF    r0x04, W
0001C4 08FF           02616         SUBLW   0xff
                      02617 ; #     MOVWF   r0x04
                      02618 ; #     MOVF    r0x04, W
0001C6 16??           02619         ANDWF   _TRISA, F
                      02620 ;       .line   81; /home/valentin/.icaro/firmware/tmp/digitalw.c       break;
0001C8 D???           02621         BRA     _00220_DS_
0001CA                02622 _00211_DS_:
                      02623 ;       .line   83; /home/valentin/.icaro/firmware/tmp/digitalw.c       case 3: if (state) TRISD=TRISD |
                             mask[input];
0001CA 50??           02624         MOVF    r0x02, W
0001CC 10??           02625         IORWF   r0x03, W
0001CE E0??           02626         BZ      _00213_DS_
0001D0 0E??           02627         MOVLW   LOW(_mask)
0001D2 24??           02628         ADDWF   r0x00, W
0001D4 6E??           02629         MOVWF   r0x04
0001D6 0E??           02630         MOVLW   HIGH(_mask)
0001D8 20??           02631         ADDWFC  r0x01, W
0001DA 6E??           02632         MOVWF   r0x05
0001DC 6A??           02633         CLRF    r0x06
0001DE BE??           02634         BTFSC   r0x01, 7
0001E0 68??           02635         SETF    r0x06
0001E2 0E??           02636         MOVLW   UPPER(_mask)
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 53


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0001E4 22??           02637         ADDWFC  r0x06, F
0001E6 C??? F???      02638         MOVFF   r0x04, TBLPTRL
0001EA C??? F???      02639         MOVFF   r0x05, TBLPTRH
0001EE C??? F???      02640         MOVFF   r0x06, TBLPTRU
0001F2 0009           02641         TBLRD*+ 
0001F4 CFF5 F000      02642         MOVFF   TABLAT, r0x04
0001F8 50??           02643         MOVF    r0x04, W
0001FA 12??           02644         IORWF   _TRISD, F
0001FC D???           02645         BRA     _00220_DS_
0001FE                02646 _00213_DS_:
                      02647 ;       .line   84; /home/valentin/.icaro/firmware/tmp/digitalw.c       else TRISD=TRISD & (255-mask[inp
                            ut]);
0001FE 0E??           02648         MOVLW   LOW(_mask)
000200 24??           02649         ADDWF   r0x00, W
000202 6E??           02650         MOVWF   r0x04
000204 0E??           02651         MOVLW   HIGH(_mask)
000206 20??           02652         ADDWFC  r0x01, W
000208 6E??           02653         MOVWF   r0x05
00020A 6A??           02654         CLRF    r0x06
00020C BE??           02655         BTFSC   r0x01, 7
00020E 68??           02656         SETF    r0x06
000210 0E??           02657         MOVLW   UPPER(_mask)
000212 22??           02658         ADDWFC  r0x06, F
000214 C??? F???      02659         MOVFF   r0x04, TBLPTRL
000218 C??? F???      02660         MOVFF   r0x05, TBLPTRH
00021C C??? F???      02661         MOVFF   r0x06, TBLPTRU
000220 0009           02662         TBLRD*+ 
000222 CFF5 F000      02663         MOVFF   TABLAT, r0x04
000226 50??           02664         MOVF    r0x04, W
000228 08FF           02665         SUBLW   0xff
                      02666 ; #     MOVWF   r0x04
                      02667 ; #     MOVF    r0x04, W
00022A 16??           02668         ANDWF   _TRISD, F
                      02669 ;       .line   85; /home/valentin/.icaro/firmware/tmp/digitalw.c       break;
00022C D???           02670         BRA     _00220_DS_
00022E                02671 _00215_DS_:
                      02672 ;       .line   86; /home/valentin/.icaro/firmware/tmp/digitalw.c       case 4: if (state) TRISE=TRISE |
                             mask[input];
00022E 50??           02673         MOVF    r0x02, W
000230 10??           02674         IORWF   r0x03, W
000232 E0??           02675         BZ      _00217_DS_
000234 0E??           02676         MOVLW   LOW(_mask)
000236 24??           02677         ADDWF   r0x00, W
000238 6E??           02678         MOVWF   r0x02
00023A 0E??           02679         MOVLW   HIGH(_mask)
00023C 20??           02680         ADDWFC  r0x01, W
00023E 6E??           02681         MOVWF   r0x03
000240 6A??           02682         CLRF    r0x04
000242 BE??           02683         BTFSC   r0x01, 7
000244 68??           02684         SETF    r0x04
000246 0E??           02685         MOVLW   UPPER(_mask)
000248 22??           02686         ADDWFC  r0x04, F
00024A C??? F???      02687         MOVFF   r0x02, TBLPTRL
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 54


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00024E C??? F???      02688         MOVFF   r0x03, TBLPTRH
000252 C??? F???      02689         MOVFF   r0x04, TBLPTRU
000256 0009           02690         TBLRD*+ 
000258 CFF5 F000      02691         MOVFF   TABLAT, r0x02
00025C 50??           02692         MOVF    r0x02, W
00025E 12??           02693         IORWF   _TRISE, F
000260 D???           02694         BRA     _00220_DS_
000262                02695 _00217_DS_:
                      02696 ;       .line   87; /home/valentin/.icaro/firmware/tmp/digitalw.c       else TRISE=TRISE & (255-mask[inp
                            ut]);
000262 6A??           02697         CLRF    r0x02
000264 BE??           02698         BTFSC   r0x01, 7
000266 68??           02699         SETF    r0x02
000268 0E??           02700         MOVLW   LOW(_mask)
00026A 26??           02701         ADDWF   r0x00, F
00026C 0E??           02702         MOVLW   HIGH(_mask)
00026E 22??           02703         ADDWFC  r0x01, F
000270 0E??           02704         MOVLW   UPPER(_mask)
000272 22??           02705         ADDWFC  r0x02, F
000274 C??? F???      02706         MOVFF   r0x00, TBLPTRL
000278 C??? F???      02707         MOVFF   r0x01, TBLPTRH
00027C C??? F???      02708         MOVFF   r0x02, TBLPTRU
000280 0009           02709         TBLRD*+ 
000282 CFF5 F000      02710         MOVFF   TABLAT, r0x00
000286 50??           02711         MOVF    r0x00, W
000288 08FF           02712         SUBLW   0xff
                      02713 ; #     MOVWF   r0x00
                      02714 ; #     MOVF    r0x00, W
00028A 16??           02715         ANDWF   _TRISE, F
00028C                02716 _00220_DS_:
                      02717 ;       .line   90; /home/valentin/.icaro/firmware/tmp/digitalw.c       }
00028C CFE4 F000      02718         MOVFF   PREINC1, r0x06
000290 CFE4 F000      02719         MOVFF   PREINC1, r0x05
000294 CFE4 F000      02720         MOVFF   PREINC1, r0x04
000298 CFE4 F000      02721         MOVFF   PREINC1, r0x03
00029C CFE4 F000      02722         MOVFF   PREINC1, r0x02
0002A0 CFE4 F000      02723         MOVFF   PREINC1, r0x01
0002A4 CFE4 F000      02724         MOVFF   PREINC1, r0x00
0002A8 CFE4 FFD9      02725         MOVFF   PREINC1, FSR2L
0002AC 0012           02726         RETURN  
                      02727 
                      02728 ; ; Starting pCode block
                      02729 S_main__digitalread     code
000000                02730 _digitalread:
                      02731 ;       .line   44; /home/valentin/.icaro/firmware/tmp/digitalw.c       int digitalread(int input)
000000 CFD9 FFE5      02732         MOVFF   FSR2L, POSTDEC1
000004 CFE1 FFD9      02733         MOVFF   FSR1L, FSR2L
000008 C??? F???      02734         MOVFF   r0x00, POSTDEC1
00000C C??? F???      02735         MOVFF   r0x01, POSTDEC1
000010 C??? F???      02736         MOVFF   r0x02, POSTDEC1
000014 C??? F???      02737         MOVFF   r0x03, POSTDEC1
000018 C??? F???      02738         MOVFF   r0x04, POSTDEC1
00001C 0E02           02739         MOVLW   0x02
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 55


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00001E CFDB F000      02740         MOVFF   PLUSW2, r0x00
000022 0E03           02741         MOVLW   0x03
000024 CFDB F000      02742         MOVFF   PLUSW2, r0x01
                      02743 ;       .line   46; /home/valentin/.icaro/firmware/tmp/digitalw.c       switch (port[input])
000028 0E??           02744         MOVLW   LOW(_port)
00002A 24??           02745         ADDWF   r0x00, W
00002C 6E??           02746         MOVWF   r0x02
00002E 0E??           02747         MOVLW   HIGH(_port)
000030 20??           02748         ADDWFC  r0x01, W
000032 6E??           02749         MOVWF   r0x03
000034 6A??           02750         CLRF    r0x04
000036 BE??           02751         BTFSC   r0x01, 7
000038 68??           02752         SETF    r0x04
00003A 0E??           02753         MOVLW   UPPER(_port)
00003C 22??           02754         ADDWFC  r0x04, F
00003E C??? F???      02755         MOVFF   r0x02, TBLPTRL
000042 C??? F???      02756         MOVFF   r0x03, TBLPTRH
000046 C??? F???      02757         MOVFF   r0x04, TBLPTRU
00004A 0009           02758         TBLRD*+ 
00004C CFF5 F000      02759         MOVFF   TABLAT, r0x02
000050 0E05           02760         MOVLW   0x05
000052 5C??           02761         SUBWF   r0x02, W
000054 B0D8           02762         BTFSC   STATUS, 0
000056 D???           02763         BRA     _00172_DS_
000058 6AFA           02764         CLRF    PCLATH
00005A 6AFB           02765         CLRF    PCLATU
00005C 34??           02766         RLCF    r0x02, W
00005E 36FA           02767         RLCF    PCLATH, F
000060 34E8           02768         RLCF    WREG, W
000062 36FA           02769         RLCF    PCLATH, F
000064 0BFC           02770         ANDLW   0xfc
000066 0F??           02771         ADDLW   LOW(_00194_DS_)
000068 6EE5           02772         MOVWF   POSTDEC1
00006A 0E??           02773         MOVLW   HIGH(_00194_DS_)
00006C 22FA           02774         ADDWFC  PCLATH, F
00006E 0E??           02775         MOVLW   UPPER(_00194_DS_)
000070 22FB           02776         ADDWFC  PCLATU, F
000072 50E4           02777         MOVF    PREINC1, W
000074 6EF9           02778         MOVWF   PCL
000076                02779 _00194_DS_:
000076 EF?? F0??      02780         GOTO    _00152_DS_
00007A EF?? F0??      02781         GOTO    _00156_DS_
00007E EF?? F0??      02782         GOTO    _00160_DS_
000082 EF?? F0??      02783         GOTO    _00164_DS_
000086 EF?? F0??      02784         GOTO    _00168_DS_
00008A                02785 _00152_DS_:
                      02786 ;       .line   48; /home/valentin/.icaro/firmware/tmp/digitalw.c       case 0: if ((PORTB & mask[input]
                            )!=0) return (1);
00008A 0E??           02787         MOVLW   LOW(_mask)
00008C 24??           02788         ADDWF   r0x00, W
00008E 6E??           02789         MOVWF   r0x02
000090 0E??           02790         MOVLW   HIGH(_mask)
000092 20??           02791         ADDWFC  r0x01, W
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 56


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000094 6E??           02792         MOVWF   r0x03
000096 6A??           02793         CLRF    r0x04
000098 BE??           02794         BTFSC   r0x01, 7
00009A 68??           02795         SETF    r0x04
00009C 0E??           02796         MOVLW   UPPER(_mask)
00009E 22??           02797         ADDWFC  r0x04, F
0000A0 C??? F???      02798         MOVFF   r0x02, TBLPTRL
0000A4 C??? F???      02799         MOVFF   r0x03, TBLPTRH
0000A8 C??? F???      02800         MOVFF   r0x04, TBLPTRU
0000AC 0009           02801         TBLRD*+ 
0000AE CFF5 F000      02802         MOVFF   TABLAT, r0x02
0000B2 50??           02803         MOVF    _PORTB, W
0000B4 16??           02804         ANDWF   r0x02, F
0000B6 50??           02805         MOVF    r0x02, W
0000B8 E0??           02806         BZ      _00154_DS_
0000BA 6AF3           02807         CLRF    PRODL
0000BC 0E01           02808         MOVLW   0x01
0000BE D???           02809         BRA     _00173_DS_
0000C0                02810 _00154_DS_:
                      02811 ;       .line   49; /home/valentin/.icaro/firmware/tmp/digitalw.c       else return (0);
0000C0 6AF3           02812         CLRF    PRODL
0000C2 6AE8           02813         CLRF    WREG
0000C4 D???           02814         BRA     _00173_DS_
0000C6                02815 _00156_DS_:
                      02816 ;       .line   51; /home/valentin/.icaro/firmware/tmp/digitalw.c       case 1: if ((PORTC & mask[input]
                            )!=0) return (1);
0000C6 0E??           02817         MOVLW   LOW(_mask)
0000C8 24??           02818         ADDWF   r0x00, W
0000CA 6E??           02819         MOVWF   r0x02
0000CC 0E??           02820         MOVLW   HIGH(_mask)
0000CE 20??           02821         ADDWFC  r0x01, W
0000D0 6E??           02822         MOVWF   r0x03
0000D2 6A??           02823         CLRF    r0x04
0000D4 BE??           02824         BTFSC   r0x01, 7
0000D6 68??           02825         SETF    r0x04
0000D8 0E??           02826         MOVLW   UPPER(_mask)
0000DA 22??           02827         ADDWFC  r0x04, F
0000DC C??? F???      02828         MOVFF   r0x02, TBLPTRL
0000E0 C??? F???      02829         MOVFF   r0x03, TBLPTRH
0000E4 C??? F???      02830         MOVFF   r0x04, TBLPTRU
0000E8 0009           02831         TBLRD*+ 
0000EA CFF5 F000      02832         MOVFF   TABLAT, r0x02
0000EE 50??           02833         MOVF    _PORTC, W
0000F0 16??           02834         ANDWF   r0x02, F
0000F2 50??           02835         MOVF    r0x02, W
0000F4 E0??           02836         BZ      _00158_DS_
0000F6 6AF3           02837         CLRF    PRODL
0000F8 0E01           02838         MOVLW   0x01
0000FA D???           02839         BRA     _00173_DS_
0000FC                02840 _00158_DS_:
                      02841 ;       .line   52; /home/valentin/.icaro/firmware/tmp/digitalw.c       else return (0);
0000FC 6AF3           02842         CLRF    PRODL
0000FE 6AE8           02843         CLRF    WREG
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 57


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000100 D???           02844         BRA     _00173_DS_
000102                02845 _00160_DS_:
                      02846 ;       .line   54; /home/valentin/.icaro/firmware/tmp/digitalw.c       case 2: if ((PORTA & mask[input]
                            )!=0) return (1);
000102 0E??           02847         MOVLW   LOW(_mask)
000104 24??           02848         ADDWF   r0x00, W
000106 6E??           02849         MOVWF   r0x02
000108 0E??           02850         MOVLW   HIGH(_mask)
00010A 20??           02851         ADDWFC  r0x01, W
00010C 6E??           02852         MOVWF   r0x03
00010E 6A??           02853         CLRF    r0x04
000110 BE??           02854         BTFSC   r0x01, 7
000112 68??           02855         SETF    r0x04
000114 0E??           02856         MOVLW   UPPER(_mask)
000116 22??           02857         ADDWFC  r0x04, F
000118 C??? F???      02858         MOVFF   r0x02, TBLPTRL
00011C C??? F???      02859         MOVFF   r0x03, TBLPTRH
000120 C??? F???      02860         MOVFF   r0x04, TBLPTRU
000124 0009           02861         TBLRD*+ 
000126 CFF5 F000      02862         MOVFF   TABLAT, r0x02
00012A 50??           02863         MOVF    _PORTA, W
00012C 16??           02864         ANDWF   r0x02, F
00012E 50??           02865         MOVF    r0x02, W
000130 E0??           02866         BZ      _00162_DS_
000132 6AF3           02867         CLRF    PRODL
000134 0E01           02868         MOVLW   0x01
000136 D???           02869         BRA     _00173_DS_
000138                02870 _00162_DS_:
                      02871 ;       .line   55; /home/valentin/.icaro/firmware/tmp/digitalw.c       else return (0);
000138 6AF3           02872         CLRF    PRODL
00013A 6AE8           02873         CLRF    WREG
00013C D???           02874         BRA     _00173_DS_
00013E                02875 _00164_DS_:
                      02876 ;       .line   58; /home/valentin/.icaro/firmware/tmp/digitalw.c       case 3: if ((PORTD & mask[input]
                            )!=0) return (1);
00013E 0E??           02877         MOVLW   LOW(_mask)
000140 24??           02878         ADDWF   r0x00, W
000142 6E??           02879         MOVWF   r0x02
000144 0E??           02880         MOVLW   HIGH(_mask)
000146 20??           02881         ADDWFC  r0x01, W
000148 6E??           02882         MOVWF   r0x03
00014A 6A??           02883         CLRF    r0x04
00014C BE??           02884         BTFSC   r0x01, 7
00014E 68??           02885         SETF    r0x04
000150 0E??           02886         MOVLW   UPPER(_mask)
000152 22??           02887         ADDWFC  r0x04, F
000154 C??? F???      02888         MOVFF   r0x02, TBLPTRL
000158 C??? F???      02889         MOVFF   r0x03, TBLPTRH
00015C C??? F???      02890         MOVFF   r0x04, TBLPTRU
000160 0009           02891         TBLRD*+ 
000162 CFF5 F000      02892         MOVFF   TABLAT, r0x02
000166 50??           02893         MOVF    _PORTD, W
000168 16??           02894         ANDWF   r0x02, F
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 58


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00016A 50??           02895         MOVF    r0x02, W
00016C E0??           02896         BZ      _00166_DS_
00016E 6AF3           02897         CLRF    PRODL
000170 0E01           02898         MOVLW   0x01
000172 D???           02899         BRA     _00173_DS_
000174                02900 _00166_DS_:
                      02901 ;       .line   59; /home/valentin/.icaro/firmware/tmp/digitalw.c       else return (0);
000174 6AF3           02902         CLRF    PRODL
000176 6AE8           02903         CLRF    WREG
000178 D???           02904         BRA     _00173_DS_
00017A                02905 _00168_DS_:
                      02906 ;       .line   61; /home/valentin/.icaro/firmware/tmp/digitalw.c       case 4: if ((PORTE & mask[input]
                            )!=0) return (1);
00017A 6A??           02907         CLRF    r0x02
00017C BE??           02908         BTFSC   r0x01, 7
00017E 68??           02909         SETF    r0x02
000180 0E??           02910         MOVLW   LOW(_mask)
000182 26??           02911         ADDWF   r0x00, F
000184 0E??           02912         MOVLW   HIGH(_mask)
000186 22??           02913         ADDWFC  r0x01, F
000188 0E??           02914         MOVLW   UPPER(_mask)
00018A 22??           02915         ADDWFC  r0x02, F
00018C C??? F???      02916         MOVFF   r0x00, TBLPTRL
000190 C??? F???      02917         MOVFF   r0x01, TBLPTRH
000194 C??? F???      02918         MOVFF   r0x02, TBLPTRU
000198 0009           02919         TBLRD*+ 
00019A CFF5 F000      02920         MOVFF   TABLAT, r0x00
00019E 50??           02921         MOVF    _PORTE, W
0001A0 16??           02922         ANDWF   r0x00, F
0001A2 50??           02923         MOVF    r0x00, W
0001A4 E0??           02924         BZ      _00170_DS_
0001A6 6AF3           02925         CLRF    PRODL
0001A8 0E01           02926         MOVLW   0x01
0001AA D???           02927         BRA     _00173_DS_
0001AC                02928 _00170_DS_:
                      02929 ;       .line   62; /home/valentin/.icaro/firmware/tmp/digitalw.c       else return (0);
0001AC 6AF3           02930         CLRF    PRODL
0001AE 6AE8           02931         CLRF    WREG
0001B0 D???           02932         BRA     _00173_DS_
0001B2                02933 _00172_DS_:
                      02934 ;       .line   66; /home/valentin/.icaro/firmware/tmp/digitalw.c       return (0);
0001B2 6AF3           02935         CLRF    PRODL
0001B4 6AE8           02936         CLRF    WREG
0001B6                02937 _00173_DS_:
0001B6 CFE4 F000      02938         MOVFF   PREINC1, r0x04
0001BA CFE4 F000      02939         MOVFF   PREINC1, r0x03
0001BE CFE4 F000      02940         MOVFF   PREINC1, r0x02
0001C2 CFE4 F000      02941         MOVFF   PREINC1, r0x01
0001C6 CFE4 F000      02942         MOVFF   PREINC1, r0x00
0001CA CFE4 FFD9      02943         MOVFF   PREINC1, FSR2L
0001CE 0012           02944         RETURN  
                      02945 
                      02946 ; ; Starting pCode block
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 59


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02947 S_main__digitalwrite    code
000000                02948 _digitalwrite:
                      02949 ;       .line   20; /home/valentin/.icaro/firmware/tmp/digitalw.c       void digitalwrite(int output,int
                             state)
000000 CFD9 FFE5      02950         MOVFF   FSR2L, POSTDEC1
000004 CFE1 FFD9      02951         MOVFF   FSR1L, FSR2L
000008 C??? F???      02952         MOVFF   r0x00, POSTDEC1
00000C C??? F???      02953         MOVFF   r0x01, POSTDEC1
000010 C??? F???      02954         MOVFF   r0x02, POSTDEC1
000014 C??? F???      02955         MOVFF   r0x03, POSTDEC1
000018 C??? F???      02956         MOVFF   r0x04, POSTDEC1
00001C C??? F???      02957         MOVFF   r0x05, POSTDEC1
000020 C??? F???      02958         MOVFF   r0x06, POSTDEC1
000024 0E02           02959         MOVLW   0x02
000026 CFDB F000      02960         MOVFF   PLUSW2, r0x00
00002A 0E03           02961         MOVLW   0x03
00002C CFDB F000      02962         MOVFF   PLUSW2, r0x01
000030 0E04           02963         MOVLW   0x04
000032 CFDB F000      02964         MOVFF   PLUSW2, r0x02
000036 0E05           02965         MOVLW   0x05
000038 CFDB F000      02966         MOVFF   PLUSW2, r0x03
                      02967 ;       .line   22; /home/valentin/.icaro/firmware/tmp/digitalw.c       switch (port[output])
00003C 0E??           02968         MOVLW   LOW(_port)
00003E 24??           02969         ADDWF   r0x00, W
000040 6E??           02970         MOVWF   r0x04
000042 0E??           02971         MOVLW   HIGH(_port)
000044 20??           02972         ADDWFC  r0x01, W
000046 6E??           02973         MOVWF   r0x05
000048 6A??           02974         CLRF    r0x06
00004A BE??           02975         BTFSC   r0x01, 7
00004C 68??           02976         SETF    r0x06
00004E 0E??           02977         MOVLW   UPPER(_port)
000050 22??           02978         ADDWFC  r0x06, F
000052 C??? F???      02979         MOVFF   r0x04, TBLPTRL
000056 C??? F???      02980         MOVFF   r0x05, TBLPTRH
00005A C??? F???      02981         MOVFF   r0x06, TBLPTRU
00005E 0009           02982         TBLRD*+ 
000060 CFF5 F000      02983         MOVFF   TABLAT, r0x04
000064 0E05           02984         MOVLW   0x05
000066 5C??           02985         SUBWF   r0x04, W
000068 B0D8           02986         BTFSC   STATUS, 0
00006A D???           02987         BRA     _00126_DS_
00006C 6AFA           02988         CLRF    PCLATH
00006E 6AFB           02989         CLRF    PCLATU
000070 34??           02990         RLCF    r0x04, W
000072 36FA           02991         RLCF    PCLATH, F
000074 34E8           02992         RLCF    WREG, W
000076 36FA           02993         RLCF    PCLATH, F
000078 0BFC           02994         ANDLW   0xfc
00007A 0F??           02995         ADDLW   LOW(_00147_DS_)
00007C 6EE5           02996         MOVWF   POSTDEC1
00007E 0E??           02997         MOVLW   HIGH(_00147_DS_)
000080 22FA           02998         ADDWFC  PCLATH, F
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 60


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000082 0E??           02999         MOVLW   UPPER(_00147_DS_)
000084 22FB           03000         ADDWFC  PCLATU, F
000086 50E4           03001         MOVF    PREINC1, W
000088 6EF9           03002         MOVWF   PCL
00008A                03003 _00147_DS_:
00008A EF?? F0??      03004         GOTO    _00105_DS_
00008E EF?? F0??      03005         GOTO    _00109_DS_
000092 EF?? F0??      03006         GOTO    _00113_DS_
000096 EF?? F0??      03007         GOTO    _00117_DS_
00009A EF?? F0??      03008         GOTO    _00121_DS_
00009E                03009 _00105_DS_:
                      03010 ;       .line   24; /home/valentin/.icaro/firmware/tmp/digitalw.c       case 0: if (state) PORTB=PORTB |
                             mask[output]; 
00009E 50??           03011         MOVF    r0x02, W
0000A0 10??           03012         IORWF   r0x03, W
0000A2 E0??           03013         BZ      _00107_DS_
0000A4 0E??           03014         MOVLW   LOW(_mask)
0000A6 24??           03015         ADDWF   r0x00, W
0000A8 6E??           03016         MOVWF   r0x04
0000AA 0E??           03017         MOVLW   HIGH(_mask)
0000AC 20??           03018         ADDWFC  r0x01, W
0000AE 6E??           03019         MOVWF   r0x05
0000B0 6A??           03020         CLRF    r0x06
0000B2 BE??           03021         BTFSC   r0x01, 7
0000B4 68??           03022         SETF    r0x06
0000B6 0E??           03023         MOVLW   UPPER(_mask)
0000B8 22??           03024         ADDWFC  r0x06, F
0000BA C??? F???      03025         MOVFF   r0x04, TBLPTRL
0000BE C??? F???      03026         MOVFF   r0x05, TBLPTRH
0000C2 C??? F???      03027         MOVFF   r0x06, TBLPTRU
0000C6 0009           03028         TBLRD*+ 
0000C8 CFF5 F000      03029         MOVFF   TABLAT, r0x04
0000CC 50??           03030         MOVF    r0x04, W
0000CE 12??           03031         IORWF   _PORTB, F
0000D0 D???           03032         BRA     _00126_DS_
0000D2                03033 _00107_DS_:
                      03034 ;       .line   25; /home/valentin/.icaro/firmware/tmp/digitalw.c       else PORTB=PORTB & (255-mask[out
                            put]);
0000D2 0E??           03035         MOVLW   LOW(_mask)
0000D4 24??           03036         ADDWF   r0x00, W
0000D6 6E??           03037         MOVWF   r0x04
0000D8 0E??           03038         MOVLW   HIGH(_mask)
0000DA 20??           03039         ADDWFC  r0x01, W
0000DC 6E??           03040         MOVWF   r0x05
0000DE 6A??           03041         CLRF    r0x06
0000E0 BE??           03042         BTFSC   r0x01, 7
0000E2 68??           03043         SETF    r0x06
0000E4 0E??           03044         MOVLW   UPPER(_mask)
0000E6 22??           03045         ADDWFC  r0x06, F
0000E8 C??? F???      03046         MOVFF   r0x04, TBLPTRL
0000EC C??? F???      03047         MOVFF   r0x05, TBLPTRH
0000F0 C??? F???      03048         MOVFF   r0x06, TBLPTRU
0000F4 0009           03049         TBLRD*+ 
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 61


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0000F6 CFF5 F000      03050         MOVFF   TABLAT, r0x04
0000FA 50??           03051         MOVF    r0x04, W
0000FC 08FF           03052         SUBLW   0xff
                      03053 ; #     MOVWF   r0x04
                      03054 ; #     MOVF    r0x04, W
0000FE 16??           03055         ANDWF   _PORTB, F
                      03056 ;       .line   26; /home/valentin/.icaro/firmware/tmp/digitalw.c       break;
000100 D???           03057         BRA     _00126_DS_
000102                03058 _00109_DS_:
                      03059 ;       .line   27; /home/valentin/.icaro/firmware/tmp/digitalw.c       case 1: if (state) PORTC=PORTC |
                             mask[output];
000102 50??           03060         MOVF    r0x02, W
000104 10??           03061         IORWF   r0x03, W
000106 E0??           03062         BZ      _00111_DS_
000108 0E??           03063         MOVLW   LOW(_mask)
00010A 24??           03064         ADDWF   r0x00, W
00010C 6E??           03065         MOVWF   r0x04
00010E 0E??           03066         MOVLW   HIGH(_mask)
000110 20??           03067         ADDWFC  r0x01, W
000112 6E??           03068         MOVWF   r0x05
000114 6A??           03069         CLRF    r0x06
000116 BE??           03070         BTFSC   r0x01, 7
000118 68??           03071         SETF    r0x06
00011A 0E??           03072         MOVLW   UPPER(_mask)
00011C 22??           03073         ADDWFC  r0x06, F
00011E C??? F???      03074         MOVFF   r0x04, TBLPTRL
000122 C??? F???      03075         MOVFF   r0x05, TBLPTRH
000126 C??? F???      03076         MOVFF   r0x06, TBLPTRU
00012A 0009           03077         TBLRD*+ 
00012C CFF5 F000      03078         MOVFF   TABLAT, r0x04
000130 50??           03079         MOVF    r0x04, W
000132 12??           03080         IORWF   _PORTC, F
000134 D???           03081         BRA     _00126_DS_
000136                03082 _00111_DS_:
                      03083 ;       .line   28; /home/valentin/.icaro/firmware/tmp/digitalw.c       else PORTC=PORTC & (255-mask[out
                            put]);
000136 0E??           03084         MOVLW   LOW(_mask)
000138 24??           03085         ADDWF   r0x00, W
00013A 6E??           03086         MOVWF   r0x04
00013C 0E??           03087         MOVLW   HIGH(_mask)
00013E 20??           03088         ADDWFC  r0x01, W
000140 6E??           03089         MOVWF   r0x05
000142 6A??           03090         CLRF    r0x06
000144 BE??           03091         BTFSC   r0x01, 7
000146 68??           03092         SETF    r0x06
000148 0E??           03093         MOVLW   UPPER(_mask)
00014A 22??           03094         ADDWFC  r0x06, F
00014C C??? F???      03095         MOVFF   r0x04, TBLPTRL
000150 C??? F???      03096         MOVFF   r0x05, TBLPTRH
000154 C??? F???      03097         MOVFF   r0x06, TBLPTRU
000158 0009           03098         TBLRD*+ 
00015A CFF5 F000      03099         MOVFF   TABLAT, r0x04
00015E 50??           03100         MOVF    r0x04, W
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 62


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000160 08FF           03101         SUBLW   0xff
                      03102 ; #     MOVWF   r0x04
                      03103 ; #     MOVF    r0x04, W
000162 16??           03104         ANDWF   _PORTC, F
                      03105 ;       .line   29; /home/valentin/.icaro/firmware/tmp/digitalw.c       break;
000164 D???           03106         BRA     _00126_DS_
000166                03107 _00113_DS_:
                      03108 ;       .line   30; /home/valentin/.icaro/firmware/tmp/digitalw.c       case 2: if (state) PORTA=PORTA |
                             mask[output];
000166 50??           03109         MOVF    r0x02, W
000168 10??           03110         IORWF   r0x03, W
00016A E0??           03111         BZ      _00115_DS_
00016C 0E??           03112         MOVLW   LOW(_mask)
00016E 24??           03113         ADDWF   r0x00, W
000170 6E??           03114         MOVWF   r0x04
000172 0E??           03115         MOVLW   HIGH(_mask)
000174 20??           03116         ADDWFC  r0x01, W
000176 6E??           03117         MOVWF   r0x05
000178 6A??           03118         CLRF    r0x06
00017A BE??           03119         BTFSC   r0x01, 7
00017C 68??           03120         SETF    r0x06
00017E 0E??           03121         MOVLW   UPPER(_mask)
000180 22??           03122         ADDWFC  r0x06, F
000182 C??? F???      03123         MOVFF   r0x04, TBLPTRL
000186 C??? F???      03124         MOVFF   r0x05, TBLPTRH
00018A C??? F???      03125         MOVFF   r0x06, TBLPTRU
00018E 0009           03126         TBLRD*+ 
000190 CFF5 F000      03127         MOVFF   TABLAT, r0x04
000194 50??           03128         MOVF    r0x04, W
000196 12??           03129         IORWF   _PORTA, F
000198 D???           03130         BRA     _00126_DS_
00019A                03131 _00115_DS_:
                      03132 ;       .line   31; /home/valentin/.icaro/firmware/tmp/digitalw.c       else PORTA=PORTA & (255-mask[out
                            put]);
00019A 0E??           03133         MOVLW   LOW(_mask)
00019C 24??           03134         ADDWF   r0x00, W
00019E 6E??           03135         MOVWF   r0x04
0001A0 0E??           03136         MOVLW   HIGH(_mask)
0001A2 20??           03137         ADDWFC  r0x01, W
0001A4 6E??           03138         MOVWF   r0x05
0001A6 6A??           03139         CLRF    r0x06
0001A8 BE??           03140         BTFSC   r0x01, 7
0001AA 68??           03141         SETF    r0x06
0001AC 0E??           03142         MOVLW   UPPER(_mask)
0001AE 22??           03143         ADDWFC  r0x06, F
0001B0 C??? F???      03144         MOVFF   r0x04, TBLPTRL
0001B4 C??? F???      03145         MOVFF   r0x05, TBLPTRH
0001B8 C??? F???      03146         MOVFF   r0x06, TBLPTRU
0001BC 0009           03147         TBLRD*+ 
0001BE CFF5 F000      03148         MOVFF   TABLAT, r0x04
0001C2 50??           03149         MOVF    r0x04, W
0001C4 08FF           03150         SUBLW   0xff
                      03151 ; #     MOVWF   r0x04
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 63


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      03152 ; #     MOVF    r0x04, W
0001C6 16??           03153         ANDWF   _PORTA, F
                      03154 ;       .line   32; /home/valentin/.icaro/firmware/tmp/digitalw.c       break;
0001C8 D???           03155         BRA     _00126_DS_
0001CA                03156 _00117_DS_:
                      03157 ;       .line   34; /home/valentin/.icaro/firmware/tmp/digitalw.c       case 3: if (state) PORTD=PORTD |
                             mask[output]; 
0001CA 50??           03158         MOVF    r0x02, W
0001CC 10??           03159         IORWF   r0x03, W
0001CE E0??           03160         BZ      _00119_DS_
0001D0 0E??           03161         MOVLW   LOW(_mask)
0001D2 24??           03162         ADDWF   r0x00, W
0001D4 6E??           03163         MOVWF   r0x04
0001D6 0E??           03164         MOVLW   HIGH(_mask)
0001D8 20??           03165         ADDWFC  r0x01, W
0001DA 6E??           03166         MOVWF   r0x05
0001DC 6A??           03167         CLRF    r0x06
0001DE BE??           03168         BTFSC   r0x01, 7
0001E0 68??           03169         SETF    r0x06
0001E2 0E??           03170         MOVLW   UPPER(_mask)
0001E4 22??           03171         ADDWFC  r0x06, F
0001E6 C??? F???      03172         MOVFF   r0x04, TBLPTRL
0001EA C??? F???      03173         MOVFF   r0x05, TBLPTRH
0001EE C??? F???      03174         MOVFF   r0x06, TBLPTRU
0001F2 0009           03175         TBLRD*+ 
0001F4 CFF5 F000      03176         MOVFF   TABLAT, r0x04
0001F8 50??           03177         MOVF    r0x04, W
0001FA 12??           03178         IORWF   _PORTD, F
0001FC D???           03179         BRA     _00126_DS_
0001FE                03180 _00119_DS_:
                      03181 ;       .line   35; /home/valentin/.icaro/firmware/tmp/digitalw.c       else PORTD=PORTD & (255-mask[out
                            put]);
0001FE 0E??           03182         MOVLW   LOW(_mask)
000200 24??           03183         ADDWF   r0x00, W
000202 6E??           03184         MOVWF   r0x04
000204 0E??           03185         MOVLW   HIGH(_mask)
000206 20??           03186         ADDWFC  r0x01, W
000208 6E??           03187         MOVWF   r0x05
00020A 6A??           03188         CLRF    r0x06
00020C BE??           03189         BTFSC   r0x01, 7
00020E 68??           03190         SETF    r0x06
000210 0E??           03191         MOVLW   UPPER(_mask)
000212 22??           03192         ADDWFC  r0x06, F
000214 C??? F???      03193         MOVFF   r0x04, TBLPTRL
000218 C??? F???      03194         MOVFF   r0x05, TBLPTRH
00021C C??? F???      03195         MOVFF   r0x06, TBLPTRU
000220 0009           03196         TBLRD*+ 
000222 CFF5 F000      03197         MOVFF   TABLAT, r0x04
000226 50??           03198         MOVF    r0x04, W
000228 08FF           03199         SUBLW   0xff
                      03200 ; #     MOVWF   r0x04
                      03201 ; #     MOVF    r0x04, W
00022A 16??           03202         ANDWF   _PORTD, F
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 64


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      03203 ;       .line   36; /home/valentin/.icaro/firmware/tmp/digitalw.c       break;
00022C D???           03204         BRA     _00126_DS_
00022E                03205 _00121_DS_:
                      03206 ;       .line   37; /home/valentin/.icaro/firmware/tmp/digitalw.c       case 4: if (state) PORTE=PORTE |
                             mask[output]; 
00022E 50??           03207         MOVF    r0x02, W
000230 10??           03208         IORWF   r0x03, W
000232 E0??           03209         BZ      _00123_DS_
000234 0E??           03210         MOVLW   LOW(_mask)
000236 24??           03211         ADDWF   r0x00, W
000238 6E??           03212         MOVWF   r0x02
00023A 0E??           03213         MOVLW   HIGH(_mask)
00023C 20??           03214         ADDWFC  r0x01, W
00023E 6E??           03215         MOVWF   r0x03
000240 6A??           03216         CLRF    r0x04
000242 BE??           03217         BTFSC   r0x01, 7
000244 68??           03218         SETF    r0x04
000246 0E??           03219         MOVLW   UPPER(_mask)
000248 22??           03220         ADDWFC  r0x04, F
00024A C??? F???      03221         MOVFF   r0x02, TBLPTRL
00024E C??? F???      03222         MOVFF   r0x03, TBLPTRH
000252 C??? F???      03223         MOVFF   r0x04, TBLPTRU
000256 0009           03224         TBLRD*+ 
000258 CFF5 F000      03225         MOVFF   TABLAT, r0x02
00025C 50??           03226         MOVF    r0x02, W
00025E 12??           03227         IORWF   _PORTE, F
000260 D???           03228         BRA     _00126_DS_
000262                03229 _00123_DS_:
                      03230 ;       .line   38; /home/valentin/.icaro/firmware/tmp/digitalw.c       else PORTE=PORTE & (255-mask[out
                            put]);
000262 6A??           03231         CLRF    r0x02
000264 BE??           03232         BTFSC   r0x01, 7
000266 68??           03233         SETF    r0x02
000268 0E??           03234         MOVLW   LOW(_mask)
00026A 26??           03235         ADDWF   r0x00, F
00026C 0E??           03236         MOVLW   HIGH(_mask)
00026E 22??           03237         ADDWFC  r0x01, F
000270 0E??           03238         MOVLW   UPPER(_mask)
000272 22??           03239         ADDWFC  r0x02, F
000274 C??? F???      03240         MOVFF   r0x00, TBLPTRL
000278 C??? F???      03241         MOVFF   r0x01, TBLPTRH
00027C C??? F???      03242         MOVFF   r0x02, TBLPTRU
000280 0009           03243         TBLRD*+ 
000282 CFF5 F000      03244         MOVFF   TABLAT, r0x00
000286 50??           03245         MOVF    r0x00, W
000288 08FF           03246         SUBLW   0xff
                      03247 ; #     MOVWF   r0x00
                      03248 ; #     MOVF    r0x00, W
00028A 16??           03249         ANDWF   _PORTE, F
00028C                03250 _00126_DS_:
                      03251 ;       .line   41; /home/valentin/.icaro/firmware/tmp/digitalw.c       }
00028C CFE4 F000      03252         MOVFF   PREINC1, r0x06
000290 CFE4 F000      03253         MOVFF   PREINC1, r0x05
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 65


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000294 CFE4 F000      03254         MOVFF   PREINC1, r0x04
000298 CFE4 F000      03255         MOVFF   PREINC1, r0x03
00029C CFE4 F000      03256         MOVFF   PREINC1, r0x02
0002A0 CFE4 F000      03257         MOVFF   PREINC1, r0x01
0002A4 CFE4 F000      03258         MOVFF   PREINC1, r0x00
0002A8 CFE4 FFD9      03259         MOVFF   PREINC1, FSR2L
0002AC 0012           03260         RETURN  
                      03261 
                      03262 ; ; Starting pCode block for Ival
                      03263         code
000000                03264 _mask:
000000 0201 0804 2010 03265         DB      0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80, 0x40, 0x80, 0x01, 0x02
       8040 8040 0201 
00000C 0104 0402 2008 03266         DB      0x04, 0x01, 0x02, 0x04, 0x08, 0x20, 0x01, 0x02, 0x04, 0x01, 0x02, 0x04
       0201 0104 0402 
000018 1008 4020 0080 03267         DB      0x08, 0x10, 0x20, 0x40, 0x80
                      03268 ; ; Starting pCode block for Ival
00001E                03269 _port:
00001E 0000 0000 0000 03270         DB      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x01, 0x01, 0x01
       0000 0101 0101 
00002A 0201 0202 0202 03271         DB      0x01, 0x02, 0x02, 0x02, 0x02, 0x02, 0x04, 0x04, 0x04, 0x03, 0x03, 0x03
       0404 0304 0303 
000036 0303 0303 0003 03272         DB      0x03, 0x03, 0x03, 0x03, 0x03
                      03273 ; ; Starting pCode block for Ival
00003C                03274 _servomasks:
00003C 0201 0804 2010 03275         DB      0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80, 0x40, 0x80, 0x01, 0x02
       8040 8040 0201 
000048 0104 0402 2008 03276         DB      0x04, 0x01, 0x02, 0x04, 0x08, 0x20
                      03277 
                      03278 
                      03279 ; Statistics:
                      03280 ; code size:     5826 (0x16c2) bytes ( 4.44%)
                      03281 ;                2913 (0x0b61) words
                      03282 ; udata size:      96 (0x0060) bytes ( 5.36%)
                      03283 ; access size:     13 (0x000d) bytes
                      03284 
                      03285 
                      03286         end
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 66


SYMBOL TABLE
  LABEL                             VALUE

BSR                               00000FE0
FSR0H                             00000FEA
FSR0L                             00000FE9
FSR1L                             00000FE1
FSR2L                             00000FD9
INDF0                             00000FEF
PCL                               00000FF9
PCLATH                            00000FFA
PCLATU                            00000FFB
PLUSW2                            00000FDB
POSTDEC1                          00000FE5
POSTINC1                          00000FE6
PREINC1                           00000FE4
PRODH                             00000FF4
PRODL                             00000FF3
STATUS                            00000FD8
TABLAT                            00000FF5
TBLPTRH                           00000FF7
TBLPTRL                           00000FF6
TBLPTRU                           00000FF8
WREG                              00000FE8
_00105_DS_                        0000009E
_00107_DS_                        000000D2
_00109_DS_                        00000102
_00111_DS_                        00000136
_00113_DS_                        00000166
_00115_DS_                        0000019A
_00117_DS_                        000001CA
_00119_DS_                        000001FE
_00121_DS_                        0000022E
_00123_DS_                        00000262
_00126_DS_                        0000028C
_00147_DS_                        0000008A
_00152_DS_                        0000008A
_00154_DS_                        000000C0
_00156_DS_                        000000C6
_00158_DS_                        000000FC
_00160_DS_                        00000102
_00162_DS_                        00000138
_00164_DS_                        0000013E
_00166_DS_                        00000174
_00168_DS_                        0000017A
_00170_DS_                        000001AC
_00172_DS_                        000001B2
_00173_DS_                        000001B6
_00194_DS_                        00000076
_00199_DS_                        0000009E
_00201_DS_                        000000D2
_00203_DS_                        00000102
_00205_DS_                        00000136
_00207_DS_                        00000166
_00209_DS_                        0000019A
_00211_DS_                        000001CA
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 67


SYMBOL TABLE
  LABEL                             VALUE 

_00213_DS_                        000001FE
_00215_DS_                        0000022E
_00217_DS_                        00000262
_00220_DS_                        0000028C
_00241_DS_                        0000008A
_00247_DS_                        0000000E
_00264_DS_                        0000007A
_00266_DS_                        00000018
_00294_DS_                        0000014C
_00302_DS_                        0000022C
_00310_DS_                        0000032C
_00316_DS_                        0000026C
_00319_DS_                        00000164
_00322_DS_                        0000008C
_00324_DS_                        000003BC
_00325_DS_                        0000003E
_00327_DS_                        0000009A
_00328_DS_                        00000368
_00391_DS_                        00000160
_00396_DS_                        00000240
_00411_DS_                        000000C6
_00414_DS_                        00000078
_00416_DS_                        0000010A
_00439_DS_                        00000092
_00442_DS_                        0000005C
_00444_DS_                        000000BE
_00466_DS_                        00000030
_00468_DS_                        0000003A
_00469_DS_                        00000056
_00488_DS_                        00000020
_00489_DS_                        00000038
_00501_DS_                        00000036
_00513_DS_                        00000038
_00526_DS_                        00000024
_00530_DS_                        00000044
_00545_DS_                        0000001E
_00560_DS_                        00000042
_00565_DS_                        00000032
_00573_DS_                        00000048
_00575_DS_                        00000074
_00584_DS_                        0000005E
_00585_DS_                        00000072
_00592_DS_                        0000002C
_00594_DS_                        00000042
_00603_DS_                        0000003A
_00609_DS_                        000000AA
_00612_DS_                        00000086
_00616_DS_                        000000C0
_00627_DS_                        00000070
_00628_DS_                        0000007E
_00629_DS_                        00000092
_00635_DS_                        00000046
_00637_DS_                        00000096
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 68


SYMBOL TABLE
  LABEL                             VALUE 

_00639_DS_                        000000C2
_00640_DS_                        000000CA
_00672_DS_                        0000004C
_00675_DS_                        00000036
_00676_DS_                        00000096
_00703_DS_                        00000074
_00708_DS_                        000000B4
_00722_DS_                        00000042
_00723_DS_                        00000044
_00728_DS_                        0000007E
_00729_DS_                        00000080
_00761_DS_                        0000003A
_00763_DS_                        0000003E
_00774_DS_                        00000018
_ADCON0                           00000000
_ADCON0bits                       00000000
_ADCON1                           00000000
_ADCON1bits                       00000000
_ADCON2                           00000000
_ADCON2bits                       00000000
_ADRESH                           00000000
_ADRESL                           00000000
_BAUDCON                          00000000
_BAUDCONbits                      00000000
_BSR                              00000000
_BSRbits                          00000000
_CCP1CON                          00000000
_CCP1CONbits                      00000000
_CCP2CON                          00000000
_CCP2CONbits                      00000000
_CCPR1H                           00000000
_CCPR1L                           00000000
_CCPR2H                           00000000
_CCPR2L                           00000000
_CMCON                            00000000
_CMCONbits                        00000000
_CVRCON                           00000000
_CVRCONbits                       00000000
_Delayms                          00000000
_Delayus                          00000000
_ECCP1AS                          00000000
_ECCP1ASbits                      00000000
_ECCP1DEL                         00000000
_ECCP1DELbits                     00000000
_EEADR                            00000000
_EECON1                           00000000
_EECON1bits                       00000000
_EECON2                           00000000
_EEDATA                           00000000
_FSR0H                            00000000
_FSR0Hbits                        00000000
_FSR0L                            00000000
_FSR1H                            00000000
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 69


SYMBOL TABLE
  LABEL                             VALUE 

_FSR1Hbits                        00000000
_FSR1L                            00000000
_FSR2H                            00000000
_FSR2Hbits                        00000000
_FSR2L                            00000000
_HLVDCON                          00000000
_HLVDCONbits                      00000000
_INDF0                            00000000
_INDF1                            00000000
_INDF2                            00000000
_INTCON                           00000000
_INTCON2                          00000000
_INTCON2bits                      00000000
_INTCON3                          00000000
_INTCON3bits                      00000000
_INTCONbits                       00000000
_IPR1                             00000000
_IPR1bits                         00000000
_IPR2                             00000000
_IPR2bits                         00000000
_LATA                             00000000
_LATAbits                         00000000
_LATB                             00000000
_LATBbits                         00000000
_LATC                             00000000
_LATCbits                         00000000
_LATD                             00000000
_LATDbits                         00000000
_LATE                             00000000
_LATEbits                         00000000
_OSCCON                           00000000
_OSCCONbits                       00000000
_OSCTUNE                          00000000
_OSCTUNEbits                      00000000
_PCL                              00000000
_PCLATH                           00000000
_PCLATHbits                       00000000
_PCLATU                           00000000
_PCLATUbits                       00000000
_PIE1                             00000000
_PIE1bits                         00000000
_PIE2                             00000000
_PIE2bits                         00000000
_PIR1                             00000000
_PIR1bits                         00000000
_PIR2                             00000000
_PIR2bits                         00000000
_PLUSW0                           00000000
_PLUSW1                           00000000
_PLUSW2                           00000000
_PORTA                            00000000
_PORTAbits                        00000000
_PORTB                            00000000
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 70


SYMBOL TABLE
  LABEL                             VALUE 

_PORTBbits                        00000000
_PORTC                            00000000
_PORTCbits                        00000000
_PORTD                            00000000
_PORTDbits                        00000000
_PORTE                            00000000
_PORTEbits                        00000000
_POSTDEC0                         00000000
_POSTDEC1                         00000000
_POSTDEC2                         00000000
_POSTINC0                         00000000
_POSTINC1                         00000000
_POSTINC2                         00000000
_PR2                              00000000
_PREINC0                          00000000
_PREINC1                          00000000
_PREINC2                          00000000
_PRODH                            00000000
_PRODL                            00000000
_PWM_set_dutycycle                00000000
_PWM_set_frequency                00000000
_PWM_set_percent_dutycycle        00000000
_RCON                             00000000
_RCONbits                         00000000
_RCREG                            00000000
_RCSTA                            00000000
_RCSTAbits                        00000000
_SPBRG                            00000000
_SPBRGH                           00000000
_SPPCFG                           00000000
_SPPCFGbits                       00000000
_SPPCON                           00000000
_SPPCONbits                       00000000
_SPPDATA                          00000000
_SPPDATAbits                      00000000
_SPPEPS                           00000000
_SPPEPSbits                       00000000
_SSPADD                           00000000
_SSPBUF                           00000000
_SSPCON1                          00000000
_SSPCON1bits                      00000000
_SSPCON2                          00000000
_SSPCON2bits                      00000000
_SSPSTAT                          00000000
_SSPSTATbits                      00000000
_STATUS                           00000000
_STATUSbits                       00000000
_STKPTR                           00000000
_STKPTRbits                       00000000
_ServoAttach                      00000000
_ServoDetach                      00000000
_ServoMaximumPulse                00000000
_ServoMinimumPulse                00000000
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 71


SYMBOL TABLE
  LABEL                             VALUE 

_ServoRead                        00000000
_ServoWrite                       00000000
_ServosPulseDown                  00000000
_ServosPulseUp                    00000000
_SortServoTimings                 00000000
_SortServoTimings_mascaratotal_1_27  00000000
_T0CON                            00000000
_T0CONbits                        00000000
_T1CON                            00000000
_T1CONbits                        00000000
_T2CON                            00000000
_T2CONbits                        00000000
_T3CON                            00000000
_T3CONbits                        00000000
_TABLAT                           00000000
_TBLPTRH                          00000000
_TBLPTRL                          00000000
_TBLPTRU                          00000000
_TBLPTRUbits                      00000000
_TMR0H                            00000000
_TMR0L                            00000000
_TMR1H                            00000000
_TMR1L                            00000000
_TMR2                             00000000
_TMR3H                            00000000
_TMR3L                            00000000
_TOSH                             00000000
_TOSL                             00000000
_TOSU                             00000000
_TOSUbits                         00000000
_TRISA                            00000000
_TRISAbits                        00000000
_TRISB                            00000000
_TRISBbits                        00000000
_TRISC                            00000000
_TRISCbits                        00000000
_TRISD                            00000000
_TRISDbits                        00000000
_TRISE                            00000000
_TRISEbits                        00000000
_TXREG                            00000000
_TXSTA                            00000000
_TXSTAbits                        00000000
_UADDR                            00000000
_UADDRbits                        00000000
_UCFG                             00000000
_UCFGbits                         00000000
_UCON                             00000000
_UCONbits                         00000000
_UEIE                             00000000
_UEIEbits                         00000000
_UEIR                             00000000
_UEIRbits                         00000000
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 72


SYMBOL TABLE
  LABEL                             VALUE 

_UEP0                             00000000
_UEP0bits                         00000000
_UEP1                             00000000
_UEP10                            00000000
_UEP10bits                        00000000
_UEP11                            00000000
_UEP11bits                        00000000
_UEP12                            00000000
_UEP12bits                        00000000
_UEP13                            00000000
_UEP13bits                        00000000
_UEP14                            00000000
_UEP14bits                        00000000
_UEP15                            00000000
_UEP15bits                        00000000
_UEP1bits                         00000000
_UEP2                             00000000
_UEP2bits                         00000000
_UEP3                             00000000
_UEP3bits                         00000000
_UEP4                             00000000
_UEP4bits                         00000000
_UEP5                             00000000
_UEP5bits                         00000000
_UEP6                             00000000
_UEP6bits                         00000000
_UEP7                             00000000
_UEP7bits                         00000000
_UEP8                             00000000
_UEP8bits                         00000000
_UEP9                             00000000
_UEP9bits                         00000000
_UFRMH                            00000000
_UFRMHbits                        00000000
_UFRML                            00000000
_UFRMLbits                        00000000
_UIE                              00000000
_UIEbits                          00000000
_UIR                              00000000
_UIRbits                          00000000
_USTAT                            00000000
_USTATbits                        00000000
_WDTCON                           00000000
_WDTCONbits                       00000000
_WREG                             00000000
__18F4550                         00000001
__divuint                         00000000
__divulong                        00000000
__mulint                          00000000
__pr2_plus1                       00000006
__t2con                           00000000
_activatedservos                  00000003
_analogReference                  00000000
gpasm-1.2.0 #980 (Aug 15 2013) /home/valentin   3-15-2015  12:05:35         PAGE 73


SYMBOL TABLE
  LABEL                             VALUE 

_analog_init                      00000000
_analogread                       00000000
_delay10ktcy                      00000000
_digitalread                      00000000
_digitalwrite                     00000000
_epap_in                          00000000
_epap_out                         00000000
_epapin_init                      00000000
_epapout_init                     00000000
_high_priority_isr                00002020
_init_PWM11                       00000000
_init_PWM12                       00000000
_loop                             00000000
_loopvar                          00000000
_low_priority_isr                 00004000
_mask                             00000000
_needreordering                   00000001
_phase                            00000000
_pinguino_main                    00000000
_pinmode                          00000000
_port                             0000001E
_sensordigital                    00000000
_servomasks                       0000003C
_servos_init                      00000000
_servos_interrupt                 00000000
_servovalues                      00000000
_set_PWM                          00000000
_setup                            00000000
_timedivision                     00000002
_timingindex                      00000000
_timings                          00000000
_usb_active_alt_setting           00000000
_usb_active_cfg                   00000000
_usb_device_state                 00000000
bucle                             0000007E
r0x00                             00000000
r0x01                             00000001
r0x02                             00000002
r0x03                             00000003
r0x04                             00000004
r0x05                             00000005
r0x06                             00000006
r0x07                             00000007
r0x08                             00000008
r0x09                             00000009
r0x0a                             0000000A
r0x0b                             0000000B
r0x0c                             0000000C

Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :     0 reported,     0 suppressed

